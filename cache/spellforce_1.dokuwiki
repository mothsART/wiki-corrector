

====== Spellforce 1 ======
{{tag>jeu rts rpg wine playonlinux BROUILLON}}

===== Le Jeu =====
[[spellforce1.png|{{image:spellforce1.png}}]]

//Avides d'un pouvoir longtemps oublié, les treize mages les plus puissants de tous les temps conduisirent le monde d'Eo à sa perte, le précipitant dans un tourbillon de chaos et de désespoir. Aujourd'hui, quelques années après la fin de la Convocation, le mal est de retour, plus fort, plus puissant qu'avant, pour achever ce qui avait été commencé. Les prophéties parlent d'un humain. Un homme maudit par l'immortalité, lié à jamais au pouvoir des runes. Bientôt, le temps viendra où le pouvoir d'un seul changera le destin de tous. Pour le meilleur ou pour le pire....// 
Sortit en 2003, réédité en 2007.

=== Pré-requis ===
  * Avoir installer la dernière version de **[[playonlinux]]**.
  * Avoir installer la dernière version de **[[wine]]**.
  * Avoir **12 ans minimum**.
  * Un exemplaire original des **cd ou dvd** ou leurs images iso (ces derniers ne sont plus nécessaire après installation).
  * Ou une des versions de démonstration en anglais disponible sur le net (chez [[http://www.clubic.com/demo-jeux-video-822-0-spellforce-the-order-of-dawn-demo-jouable.html|clubic]] par exemple).
  * Les [[http://www.clubic.com/patch-jeux-video-822-0-spellforce-the-order-of-dawn.html|patchs]] de mise-à-jours du jeu.
  * Correctifs __Big Ben__ au **BUG CDKEY**: [[http://www.bigben.fr/download.php?cat=patch&id=41|réédition de 2007]] et [[http://www.bigben.fr/download.php?cat=patch&id=17|édition Diamant]].

=== Versions et déboires ===
L'éditeur a eu la logique curieuse d'imposer l'achat des extensions pour avoir droit aux correctifs de la version de base. Les heureux possesseurs de ce jeu ont eu bien des déboires. Dans la première version le distributeur a "oublié" d'inclure la clé d'activation. Dans les versions suivantes la police de la clé était illisible comme "I0V1" facilement confondu avec "1OUI". Encore mieux, dans la réédition de 2007 Spellforce The Order of Dawn le jeu vous demande la clé au premier lancement, normal ; au deuxième lancement il vous demande celles des deux extensions alors qu'elles ne sont pas incluses, vous interdisant de jouer ! La solution était de parcourir le registre à la recherche de votre CDKEY et de l'effacer. Vous obligeant à la ressaisir et re-effacer à chaque lancement du jeu. Le correctif de ce bug ne concernait que les possesseurs de la version Gold, pas de chance pour les autres... Heureusement les développeurs ont sorti un correctif étonnamment absent du site de l'éditeur.
  * 2003-11 Spellforce The Order of Dawn 1.0
  * 2004-07 Spellforce The Breath of Winter
  * 2004-11 Spellforce Shadow of the Phoenix
  * 2005-03 Spellforce édition Gold : Order of Dawn 1.38 + Breath of Winter
  * 2005-11 Spellforce édition Platinum/Diamant : Order of Dawn 1.52 + Breath of Winter + Shadow of the Phoenix
  * 2007-01 Spellforce The Order of Dawn 1.54
  * 2007-10 Spellforce édition Universe : Order of Dawn + Breath of Winter + Shadow of the Phoenix + Spellforce 2

=== Configuration minimum ===
  * Pentium III 1GHz
  * Mémoire 256Mo
  * 2 Go de libre sur le disque-dur
  * DirectX 9.0a
  * Windows 98, ME, 2000 ou XP
  * Carte graphique 32 Mo, GeForce2.

=== Configuration recommandée ===
  * Pentium 4 1,8GHz
  * Mémoire 512Mo
  * Carte graphique 64 Mo, GeForce4 Ti.

===== Installation avec Playonlinux =====

<note tip>**Version sur plusieurs cd ?** Copier tout le contenu des cds dans un seul répertoire (seuls les .cab ont de l'importance, écrasez les autres fichiers) et lancer l'installation depuis le setup-fr.exe à l'étape concernée. Si vous ajouter une extension c'est la méthode "Pour patcher" qu'il vous faut suivre (§ plus bas).</note>

=== Installer le jeu ===
  * **Monter le dvd**
(l'installation de la version de démonstration est sensiblement semblable, à l'étape setup-fr.exe remplacer par le .exe de la démo)
  * **Ouvrir playonlinux**

<note tip>Si c'est la première fois installer les mises-à-jours et les polices win et relancer le programme. Si vous ne souhaitez pas mélanger vos jeux win avec vos jeux linux : dans "Options", "Environnement", cocher "Ajouter le tableau de bord à votre menu". Vous pouvez en profiter pour modifier l'emplacement du Bureau où arriveront les icônes et le navigateur par défaut.</note>

  * Bouton **"Installer"**, en bas à gauche **"Installer ... une application non supportée"**, **"Installation manuelle" "Suivant" "Suivant" "Installer une application dans un nouveau préfixe" "Suivant"**, choisissez **"spellforce-1"** comme nom du répertoire/préfixe **"Suivant"**
  * Configurer wine **"Non"**
  * Bouton **"Parcourir"** aller au dvd ou dossier et choisissez **"setup-fr.exe" "Suivant"**

<note tip>**Pourquoi setup-fr.exe ?** A l'insertion de la galette, Windows cherche un fichier nommé Autorun.inf. En l'ouvrant avec un éditeur de texte ([[gedit]] etc.) on apprend quel fichier doit être exécuter en premier. Mais dans ce cas autorun.exe ne permet pas l'installation.</note>

  * L'InstallShield s'ouvre, **"Next/Suivant" "Agree/Accepter" "Next/Suivant"**, **__DÉCOCHER__ toutes les cases, sauf "Create desktop icon/Créer icone de bureau" et choisir "Just me/Utilisateur unique" "Next/Suivant" "Next/Suivant" "Close/Terminé"** 
  * Fenêtre playonlinux : **"Suivant"**, lanceur **"Oui"**, parcourir jusqu'à **"/Program Files/JoWood/Spellforce - The Order of Dawn"** et **"SpellForce.exe" "Suivant"**, **"spellforce-1" "Suivant"**, cocher uniquement **"Dans votre menu"** InstallShield ajoutant déjà un icone au Bureau, **"Suivant"** et pour terminer **"Non"**.
  * Pour **patcher** (si votre version n'a pas besoin du patch celui-ci vous le dira), bouton **"Installer"**, en bas à gauche **"Installer ... une application non supportée"**, **"Installation manuelle" "Suivant" "Suivant"**, cette fois c'est __**"Modifier une application déjà installé"**__ **"Suivant" "spellforce-1" "Suivant" "Non"**, parcourir jusqu'au patch et poursuivez ; quand playonlinux vous redemande si vous voulez créer un lanceur de nouveau terminer par **"Non"**.
<note tip>C'est maintenant qu'il faut remplacer le SpellForce.exe par celui du **correctif de BigBen**. Renommer l'ancien SpellForce.exe en SpellForce.exe.old pour le conserver au cas où...</note>
<note>En cas de boulette, dans votre home à l'adresse **.PlayOnLinux/wineprefix**, supprimer le dossier du jeu et recommencer. En cas de mauvaise désinstallation les icônes résiduelles sont dans **.local/share/applications** </note>

<note>**fichier .lnk sur le bureau ?** c'est un lien internet prévu pour Internet Explorer, vous pouvez l'effacer...</note>
  * L'installation est terminée, éjecter le dvd / démonter l'iso / fermé le dossier, vous n'en avez pas besoin pour jouer. Une icone sur votre bureau vous permet de lancer le jeu. Penser à régler les Paramètres avant de jouer. :-D
<note help>**"Spellforce.desktop", Lanceur d'application non fiable ?** au lieu de l'icône ? double-clic, "Marquer comme fiable".</note>

==== Problèmes d'affichage et Registre ====

<note important>L'**[[acceleration_graphique|accélération 3D]]** de votre carte graphique est-elle activée ?</note>

<note tip>**Lenteur et bugs graphiques ?** Dans playonlinux, "Outils", "Gérer les versions de wine", choisissez une autre version de wine (**wine 1.1.0** m'a donné de bonnes performance),  bouton "Ajouter", onglet "mes applications", "spellforce-1" et choisissez la "Version", "Fermer". Une "Mise à jour du préfixe" peut être nécessaire (bouton "Configurer cette application").</note>

<note>Si une fois dans le jeu vous rencontrez des problèmes d'affichages vous avez quelques réglages à faire dans la Base de Registre...</note>

  * Avec un éditeur de texte ([[gedit]] etc.) créer un fichier **"spellforce-1.reg"** dans votre **./PlayOnLinux** contenant :

''REGEDIT4''

''[HKEY_CURRENT_USER\Software\Wine\Direct3D]''

''"DirectDrawRenderer"="OpenGL"''

''"Multisampling"="enabled"''

''"OffscreenRenderingMode"="pbuffer"''

''"PixelShaderMode"="enabled"''

''"UseGLSL"="enabled"''

''"VertexShaderMode"="hardware"''

''"VideoMemorySize"="128"''

<note>**Réglages du Registre**. Remplacer le "128" de "VideoMemorySize" par la taille de votre mémoire graphique. Suivant votre matériel vous devrez peut être adapté ces paramètres. Toutes les possibilités sur [[https://wiki.winehq.org/UsefulRegistryKeys|winehq]].</note>

  * Lancer playonlinux : choisissez spellforce-1 dans la liste, **"Configurer cette application" "Suivant" "Base de Registre" "Suivant"**, menu **"Registre"** choisissez **"Importer un fichier Registre"** et **"spellforce-1.reg" "Ouvrir"**. Vérifier en développant **HKEY_CURRENT_USER\Software\Wine\Direct3D** que l'importation a réussi. **Menu Registre, "Quitter"**. Fenêtre playonlinux **"Annuler"** (une mise à jour du préfixe peut être nécessaire).
  * **Lancer le jeu pour voir la différence. :-D**
  * Le fichier spellforce-1.reg n'est plus nécessaire, vous pouvez néanmoins le conservé si vous souhaitez apporter des modifications et pouvoir revenir à cette configuration facilement.

=== Réglages Vidéo par défaut ===
Dans les options de Spellforce, page Vidéo, dans l'ordre :
  * 1024x768x16
  * bilinéaire
  * Élevé
  * Normal
  * 75% (avec une règle : (longueur de la barre en cm)/1,33)
  * Élevé
  * Activé
  * Activé
  * Activé
  * Activé
  * Désactivé

==== Cartes Graphiques compatibles ====
  * nVidia NV34 [GeForce FX 5200] (rev a1) AGPx8 128M
=== Cartes Graphiques incompatibles ===
//Noter ici les cartes graphiques posant problème et éventuellement la solution//

==== Installer DirectX9.0c ====
=== préparation ===
<note important>**DirectX n'est pas nécessaire pour faire fonctionner le jeu, wine 1.1.27 seul sans la modification du registre fait fonctionner le jeu. Néanmoins, sur un pc léger vous obtiendrez de meilleurs performances en suivant cette étape.**</note>

  * A la page [[wine_directx]] récupérer les **trois .dll**, la **liste DllOverrides** (dans un fichier texte avec gedit par exemple ou garder la page web ouverte) et le **directx.exe** que vous avez télécharger.
  * Dans le menu de wine, **"Configure wine"**, version de windows **"windows 2000"** et quitter.
  * Lancer le **directx.exe** et décompresser par exemple **sur le Bureau** dans un dossier **"dx"**.

<note help>**Le Gestionnaire d'Archive s'ouvre ?** clic-droit "Propriétés" sur directx.exe, onglet "Ouvrir avec", choisir "Wine" dans la liste, "Fermer" et recommencer.</note>

=== Installer DirectX9.0c sur le jeu ===
  * Lancer playonlinux : choisissez spellforce-1 dans la liste, **"Configurer cette application" "Suivant" "Configuration de wine" "Suivant"**, version de Windows **"Windows 2000" "Appliquer"**, onglet **"Bibliothèques"** choisissez n'importe quoi dans la liste et **"Ajouter" "Appliquer" "OK"**. Fenêtre playonlinux **"Annuler"** et quitter playonlinux.
  * Dans **".PlayOnLinux/wineprefix/spellforce-1"** éditer **"user.reg"**, trouver (touches [Control]+[F]) **"DllOverrides"**, en dessous de la ligne **[Software\\Wine\\DllOverrides]** effacer la première ligne et remplacer par la **liste de la page [[wine_directx]]**
  * Dans **".PlayOnLinux/wineprefix/spellforce-1/drive_c/windows/system32"** déposer les **trois .dll**
  * Ouvrir **playonlinux**, bouton **"Installer"**, en bas à gauche **"Installer ... une application non supportée"**, **"Installation manuelle" "Suivant" "Suivant"**, cette fois c'est __**"Modifier une application déjà installé"**__ **"Suivant" "spellforce-1" "Suivant"**
  * wine **"Oui"** vérifier dans l'onglet **"Bibliothèques"** que vous avez une longue liste et **"OK"**
  * retour à la fenêtre playonlinux : **"Parcourir"** jusqu'au dossier **"dx"** où vous avez décompresser DirectX et choisir **"DXSETUP.exe" "Ouvrir" "Suivant"**
  * **accepter tout** et terminer dans la fenêtre playonlinux par **"Non"**

<note important>Vérifier bien la présence du fichier **dxdiag.exe** dans **/home/votrecompte/.PlayOnLinux/wineprefix/spellforce-1/drive_c/windows/system32**. Si absent, c'est que vous n'avez pas réussis votre installation de DirectX. Retourner à la [[wine_directx|page]] concernée pour plus d'informations</note>
<note tip>Vous n'avez plus besoin du **dossier dx** où vous avez décompressez l'archive, mais vous pouvez le conserver tel quel pour l'installation d'un autre jeu.</note>

----
//Contribution : [[utilisateurs:.amalric.]]//