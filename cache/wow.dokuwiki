
{{tag>jeu rpg wine}}

----

====== World of Warcraft  ======

{{jeux:installation_de_world_of_warcraft.png?300}}



**World of Warcraft**, fameux MMORPG du moment n'est pas disponible nativement sous Linux. Pour y jouer, il faut passer par des applications créant un environnement Windows comme [[:Wine]] (libre) ou [[:crossover|CrossOver Games]] (payant).

<note important>/!\ Blizzard n'autorise pas la combinaison de Wine et d'un clavier avec macro configurable de marque Logitech conformément aux conditions d'utilisation /!\</note> 
<note>(Une version de World Of Warcraft pour Linux est envisagé par un petit groupe de développeurs blizzardiens, ils attendent la permission des autorités divines. Aiguilar, protège-nous !)<note important> Blizzard aurait contesté cette info lors de divers posts sur des sujets traitants l'info. (intox ?) </note></note>





===== Pré-requis =====

  * Avoir activé l'[[:accélération graphique]]((Pour connaître l'état d'activation de votre accélération graphique, exécutez cette commande : <code>glxinfo | grep rendering</code> et si celle-ci retourne « ''direct rendering: Yes'' », c'est que l'accélération est activée.)) ;
  * Avoir [[:tutoriel:comment_installer_un_paquet|installé le paquet]] **[[apt://msttcorefonts|msttcorefonts]]** (Intrepid et précédentes) **[[apt://ttf-mscorefonts-installer|ttf-mscorefonts-installer]]** (Jaunty et supérieur) (c.f.: [[:msttcorefonts| Installer msttcorefonts]]) pour les polices Windows.
  * Avoir installé [[:wine#avec_le_depot_de_winehq|la dernière version de Wine (avec le dépôt de WineHQ)]].
  * Pouvoir afficher les environnements 3D selon votre carte graphique, il se peut qu'il faille un pilote propriétaire qui n'est pas installé par défaut. Si l’environnement de Wow vous apparaît noir, allez voir le [[:gestionnaire de pilotes propriétaires]].


===== Installation =====

Ces étapes vous permettront d'installer pas à pas World of Warcraft (et ses extensions) sur votre ordinateur.

====Via Play On Linux ====


<note tip>
//World of Warcraft//, ainsi que ses extensions //The Burning Crusade// et //Wrath Of The Lich King// peuvent désormais être installés automatiquement grâce à l'utilitaire **[[:PlayOnLinux]]**. Toutefois une installation manuelle via Wine (voir ci-dessous) peut-être plus souple.</note>

====Via Wine ====


Il n'est plus d'actualité de patcher Wine pour que WoW fonctionne. De plus, la version 0.9.34 simplifie grandement les choses ((Source : [[https://help.ubuntu.com/community/WorldofWarcraft#head-b0e3758f63e95125f2aad3ef50efcec48df67b00|Wiki officiel anglophone]])) !

Pour installer World of Warcraft via Wine il est désormais obligé de passer par Battle.net !
Comment faire ?
  - Aller dans 'Wine -> Bibliothèque -> nouveau remplacement' et écrivez dbghelp et cliquez sur ajouter puis cliquez sur dbghelp dans la case en dessous et cliquez sur modifier et désactivez-la !
  - Lancer Battle.net, connectez-vous. Souvent Battle.net est déformé et est donc inutilisable ! Pour installer WOW sans toucher à Battle.net aller sur le site de Battle.net et télécharger l'exécutable de WOW. Lancez l'exécutable et laissez votre ordinateur en paix pendant 20 minutes !
  - Aller dans votre disque 'C ->  Programe Files -> World of Warcraft -> wow.exe'.Quand vous lancerez le .exe cela lancera WOW mais généralement il faut le relancer une fois pour pouvoir écrire dedans ! (Il est préférable de ne rien ouvrir sauf wow.exe) 
  - Jouez !

<note tip> Vous pouvez modifier le fichier config.wtf pour améliorer la fluidité du jeu en allant dans le disque 'C -> Program Files -> World of Warcraft -> WTF -> config.wtf
</note>


====Via VirtualBox ====

**Nouveau !** //(Décembre 2009)// A partir de VirtualBox **3.1** vous pouvez faire fonctionner WoW dans VirtualBox.\\
Il faut bien sûr installer les VirtualBox Guest Additions, pour cela référez-vous à la page de [[:VirtualBox]].
Bien évidemment, il faut activer également le support 3D pour votre XP invité.

Ce mode est cependant "expérimental", car la performance est bien moins bonne qu'avec Wine.\\
A titre d'exemple, avec un PC : Core2Duo 2,4G / nVidia7950
  - Wine => environ 50FPS (en zone calme)
  - VirtualBox => environ 5FPS (au même endroit... quand tout va bien !)

Cela peut toutefois vous servir à dépanner par exemple une validation de licence récalcitrante (en lançant WoW en "réseau" depuis VirtualBox)

=== Étape 1 : Fichiers d'installation ===

== Depuis les CD d'installation du jeu (4 ou 5) ou le DVD ==

La meilleure méthode, si vous avez l'accès à vos CD ou DVD d'installation est de copier le contenu de ceux-ci sur votre disque dur et de lancer l'installation depuis celui-ci.
  * Créez un dossier dans votre répertoire personnel (''/home/utilisateur/wow_install'' par exemple)
  * Il faut alors copier les fichiers suivants :
    * Installer.exe
    * Installer.ico
    * Installer Tome.mpq, Installer Tome2.mpq, Installer Tome3.mpq, Installer Tome4.mpq et si vous l'avez, Installer Tome5.mpq (selon que vous ayez 4 ou 5 CDs ou 1 DVD).
{{jeux:wow_install1.png|}}

<note>
Sur certains CD / DVD, **Installer.exe** est caché il faut alors monter le support avec l'option ''unhide''.
C'est le cas de la version francophone (serveurs européens) du DVD Wrath of the Lich King.

Si l'option -t iso9660 ne fonctionne pas, ne pas la mettre.


Pour éviter d'avoir à copier le contenu sur le disque dur, il faut aussi ajouter les options "uid" et "gid" pour être propriétaire des fichiers (1000 est la valeur par défaut si vous n'avez qu'un seul utilisateur):
<code>sudo mount -t iso9660 -o ro,unhide,uid=1000,gid=1000 /dev/cdrom /media/cdrom0/</code></note>
<note>
Également si vous rencontrez un problème lors de l'installation de la dernières extension au moment ou vous devez acceptez la licence, vérifiez que vous avez  la dernière version de Wine ; elle corrige ce problème.
</note>
<note>
Dans le cas où vous rencontreriez toujours des problèmes, et notamment l'apparition d'une fenêtre grise contenant le message : \\
"No installer data could be found. If this problem persists, please contact Blizzard Technical Support."\\
Tentez d'installer [[http://www.acetoneteam.org/|AcetoneISO]], et de monter la partition depuis un disque virtuel d'Acetone ISO.
</note>

== Depuis le site officiel de WoW ==

Si vous n'avez plus les CD ou autre raison quelconque, vous pouvez télécharger le jeu depuis [[http://www.wow-europe.com/fr/burningcrusade/download/|Le site de téléchargement officiel]]. D'autant plus que le jeu est généralement déjà complètement patché.

Bien sûr, pour pouvoir utiliser le Blizzard Downloader dans de bonnes conditions, vous devez activer la redirection de port de votre [[:pare-feu]] et/ou routeur. De base, le [[pare-feu]] sous Ubuntu est **désactivé** mais si vous tenez à l'activer, allez voir [[:Gufw]] (sachez que son activation entraîne des complications qui n'existaient pas auparavant comme pour les partages). Pour ce qui est du routeur, la [[http://eu.blizzard.com/support/article.xml?articleId=19866&categoryId=3440&parentCategoryId=2100&pageNumber=1|F.A.Q. officielle]] est là pour ça.

Une fois tout ceci configuré, lancez le téléchargement et suivez la procédure qui va suivre.

== Depuis Clubic.com ==

Nombreux sont ceux qui trouvent le téléchargement depuis le Blizzard Downloader extrêmement lent. C'est pourquoi le site clubic.com propose en téléchargement depuis leurs serveurs le client de WoW. Ce téléchargement se fait beaucoup plus rapidement. [[http://www.clubic.com/lancer-le-telechargement-47656-0-world-of-warcraft-client-complet-v2-0-0-windows-mac.html|Page de téléchargement du client sur Clubic]].

On ne saurait trop vous conseiller de suivre la même procédure pour patcher le jeu à sa version actuelle, plutôt que d'utiliser le Blizzard Downloader. Pour voir la liste des patchs dans leur ordre chronologique (de bas en haut), rendez-vous sur [[http://www.clubic.com/patch-jeux-video-451-0-world-of-warcraft.html|cette page]]

== Depuis Windows ==

Si vous n'arrivez pas a installer le jeu, que c'est trop complexe, trop long, ou qu'il se produit des erreurs, vous pouvez utiliser une installation existante sous Windows en passant directement à l'étape 4 de la méthode suivante.

<note important>
Pour plus de sécurité, vous pouvez aussi copier le répertoire de WoW à un autre emplacement, pour éviter d'endommager votre installation existante.
</note>




=== Étape 2 : Installation ===
== Étape 2.1 : World of Warcraft ==
Lancez l'installeur en ouvrant un **terminal** (//Applications > Accessoires > Terminal// sur Ubuntu) et en exécutant ces commandes :

<code>
cd <chemin-vers-le-dossier>
wine Installer.exe
</code>

Remplacez ''<chemin-vers-le-dossier>'' par le chemin vers votre dossier WoW (''/home/utilisateur/wow_install'' par exemple) \\
\\
Après quelques instants d'attente (une dizaine de secondes), l'écran d'installation apparaît :

{{jeux:installation_de_world_of_warcraft.png?300}}

  * Cliquez sur "**Installer World of Warcraft**". \\
  * Un message vous invite à insérer le CD 1. Cliquez sur **Annuler** \\
  * Un autre vous annonce que DirectX est introuvable. Poursuivez quand-même en cliquant sur **Installer**. \\
  * Décochez la case **Créer un raccourci sur le bureau** car celui-ci ne fonctionne pas sur tous les Linux. \\
  * Enfin, cliquez une dernière fois sur **OK** pour lancer l'installation. \\
Il ne reste plus qu'à attendre... ;-)


== Étape 2.2 : The Burning Crusade ==

L'installation de //Burning Crusade// est similaire à celle du jeu de base, aussi les indications seront ici moins détaillées. Il vaut mieux l'installer avant les patchs, car il mettra en même temps à jour l'installation de base de //World of Warcraft// (il est vrai qu'il est dur de voir que vous avez patché durant 10 minutes pour rien ^_^).

  * Créez un dossier dans votre répertoire personnel différent du précédent (''/home/utilisateur/bc_install'' par exemple)
  * Il faut alors copier les fichiers suivants :
    * Installer.exe
    * Installer.ico
    * Installer Tome.mpq, Installer Tome2.mpq, Installer Tome3.mpq, Installer Tome4.mpq

{{jeux:bc_install.png}}

Lancez l'installeur en ouvrant un terminal et en exécutant ces commandes :

<code>
cd <chemin-vers-le-dossier>
wine Installer.exe
</code>

Remplacez ''<chemin-vers-le-dossier>'' par le chemin vers votre dossier WoW BC (''/home/utilisateur/bc_install'' par exemple).

  * Un écran vous propose d'installer le jeu.
  * Lancez l'installation.
  * L'installateur vous propose de **mettre à niveau** votre compte pour que vous puissiez accéder au contenu de l'extension. Si vous venez tout juste d'acquérir Burning Crusade, faites cette mise à niveau si ce n'est déjà fait.

== Étape 2.3 : The Wrath Of The Lich King ==
Le DVD de wotlk est un peu particulier car il s'agit d'un DVD hybride PC/MAC.
Voici la manipulation suivante à réaliser :
  * Démonter le CD sans l'éjecter (clik droit -> démonter)
  * Dans un terminal faire la commande suivante :

<code>sudo mount -o ro,unhide,umask=022 /dev/scd0 /media/cdrom0</code>

  * Si la commande précédente ne permet pas l'installation, démonter de nouveau le DVD (cf. umount plus bas) pas essayer celle-ci :
<code>sudo mount -o ro,unhide,uid=<IdUtilisateur>,gid=<IdGroup> /dev/scd0 /media/cdrom</code>

où <IdUtilisateur> et <IdGroup> sont les valeurs de votre uid et gid (souvent 1000 pour les 2, si vous n'avez qu'un seul login) donnés par la commande  :
<code>id</code>
   * Après l'installation pour démonter le CD, rebootez ou faites dans un terminal :
<code>sudo umount /media/cdrom0</code>

REMARQUE : Si vous avez plusieurs lecteurs/graveurs de CD/DVD, il se peut que celui-ci ne soit pas /dev/scd0 mais /dev/scd1, /dev/scd2, etc.

Par contre si vous possédez l'iso du DVD, vous pouvez le monter en rajoutant l'option loop ainsi :
<code> sudo mount -o ro,unhide,uid=<IdUtilisateur>,gid=<IdGroup>,loop /home/username/wow-wotlk-eu.iso /media/tmp</code>

Et ainsi vous pourrez lancer la mise à jour en lançant depuis la racine du CD le fichier 'Installer.exe' par Wine. Bienvenue en Norfendre!!!

<note>Pour ceux où cela n'a pas marché à cause de problème de droits :<code>"wine: could not load L"E:\\Installer.exe": Module not found"</code>
Faites les manipulations suivantes dans une fenêtre de commande en remplaçant "username" par le nom de votre compte :

(source http://appdb.winehq.org/objectManager.php?sClass=version&iId=14154)

  * Passer en root
<code>sudo -i</code>
  * Changer le propriétaire de votre dossier .wine en root
<code>chown -R root /home/username/.wine</code>
  * Installer WotLK
<code>WINEPREFIX="/home/username/.wine" wine /media/cdrom/Installer.exe</code>
  * Repasser les droits de votre dossier .wine à votre compte
<code>chown -R username /home/username/.wine</code>
  * Déloguer
<code>logout</code></note>

  * Un écran vous propose d'installer le jeu.
  * Lancez l'installation.
  * L'installateur vous propose de **mettre à niveau** votre compte pour que vous puissiez accéder au contenu de l'extension. Si vous venez tout juste d'acquérir The Wrath Of The Lich King, faites cette mise à niveau si ce n'est déjà fait

=== Étape 3 : Mise à jour ===

<note tip>
Si vous avez utilisé la méthode [[wow#Depuis_le_site_officiel_de_WoW|Depuis le site officiel de WoW]] vous ne devriez pas avoir à mettre à jour grand chose.

Pour le savoir, regardez votre numéro de version dans le coin en bas à gauche de votre jeu, la dernière étant **4.0.1**. Si vous rencontrez des problèmes insolubles, appliquez le paragraphe 3 bis ci-dessous !
</note>

Commencez par lire la licence d'utilisation en 3 pages. Si vous êtes d'accord avec les termes de cette licence, acceptez-la. Dans le cas contraire, refusez-la et quittez l'installation.

Téléchargez les mises à jour en vous connectant à votre compte.
La procédure de mise à jour est identique à celle sous Windows (plus rapide même !). Il ne reste plus qu'à attendre que la mise à jour se fasse.

=== Etape 3 Bis : Mise à jour 4.0.1 ===
Comme vous l'avez remarqué la nouvelle extension (cataclysm) arrive bientôt!
D'où ce patch énorme (+ de 6 Gb) en tout.
Après une tentative d'installation normale, si vous obtenez  une "fatal error 132" ou un freeze au chargement des perso, il ne vous reste qu'à tenter un repair.
Si malgré cela vous êtes toujours bloqué, sachez que vous n'êtes pas seul.
La seule issue connue à ce jour réside dans un conglomérat des solutions proposées par Blizzard et Wine ;On va réinstaller le nouveau client de jeu qui ne fait plus que 12 GB +1,7 Gb.
Nous allons ajouter la nouvelle version de Wine qui permet de lancer le nouvel installeur blibli.

1 =>[[:ppa|Ajoutez le PPA]] **ppa:ubuntu-wine/ppa**((https://launchpad.net/~ubuntu-wine/+archive/ppa)) à vos sources de logiciels, [[:tutoriel:comment_modifier_sources_maj#recharger_la_liste_des_paquets|rechargez la liste des paquets]] puis [[:tutoriel:comment_installer_un_paquet|installez le paquet]] **[[apt://wine|wine]]** (ou mettez-le à jour s'il est déjà installé).
La version courante recommandée pour jouer avec ce patch étant la 1.3.1 (la dernière version stable étant la 1.2, voir ici http://www.winehq.org/download/deb pour installer la 1.3)

2 =>Connectez-vous sur http://eu.battle.net avec votre compte puis cliquez sur le lien ci-dessous :

https://eu.battle.net/account/downloads/WoW-4.0.0-WOW-frFR-Installer.exe

Voilà, il n'y a plus qu'à patienter ! Sachez que la maj du client est hyper rapide contrairement aux autres MAJ !


<note tip>
Si le téléchargement des mises à jour est trop lent à votre goût ((notez que vous avez peut-être mal optimisé vos configurations pour profiter pleinement du //Blizzard Downloader//, il faut suivre les étapes décrites [[wow#Depuis_le_site_officiel_de_WoW|plus haut]])) ; les patchs sont tout de même téléchargeables sur [[http://www.wowwiki.com/Patch_mirrors|WoWwiki]] [[http://www.jeuxvideo.fr/patch-world-of-warcraft-451-0-0.html|la page des patchs pour WoW de JeuxVideo.fr]], [[http://www.jeuxvideopc.com/telecharger/3038-world-of-warcraft.php|la page des patchs pour WoW de JeuxVideoPC.com]].

Les fichiers, qui devront être éventuellement décompressés, doivent alors être déplacés dans le dossier World of Warcraft du répertoire de Wine (''~/.wine/drive_c/Program Files/World of Warcraft'') puis exécutés avec la commande wine. Il n'est nécessaire d'installer que les patchs, 2.0.2 et suivants. Et si vous choisissez cette méthode, vérifiez bien de prendre les versions françaises des mises à jour !

Attention, toutefois, certains patchs sont corrompus, il peut être plus prudent d'utiliser la méthode par défaut…

  * Une dernière chose, une fois que vous avez téléchargé les bons patchs, mettez-les de côté. On est jamais trop prudents !
</note>

Après chaque mise à jour, le lanceur de WoW se lance, à la première fois il va vous demander d'installer le module Gecko (moteur de rendu Mozilla) pour pouvoir afficher les pages web, suivez les instructions tout simplement.

=== Étape 4 : Configuration ===

Étant donné que chaque configuration est spécifique, nous ne vous proposons plus de configuration de base, pour avoir plus de détails allez voir du côté des [[#problèmes]].


=== Étape 5 : Lancement ===



== solution simple mais avec des bugs ==


Rajouter dans le fichier de configuration WTF/Config.wtf du répertoire de WoW :

<code>SET gxApi "opengl"</code>

Ce code évitera le crash au démarrage de l'application graphique de WoW

Lancer le jeu en utilisant la ligne suivante dans un terminal :

<code>wine /home/<utilisateur>/.wine/drive_c/Program\ Files/World\ of\ Warcraft/WoW.exe</code>

Remplacez ''<utilisateur>'' par votre nom d'utilisateur et si besoin est, adaptez le chemin de lancement.

Si vous voulez un raccourci pour **GNOME**, exécutez ces commandes :

<code>
wget http://kde-files.org/CONTENT/content-files/41569-wow-icon-scalable.svg -O WoW.svg
sudo mv WoW.svg /usr/share/pixmaps/
gksudo gedit /usr/share/applications/wow.desktop
</code>

Puis rajoutez cela dans le fichier texte :

<code>
[Desktop Entry]
Encoding=UTF-8
Name=World of Warcraft
Exec=wine /home/<utilisateur>/.wine/drive_c/Program\ Files/World\ of\ Warcraft/WoW.exe
Icon=WoW.svg
Terminal=false
Type=Application
Categories=Application;Game;
StartupNotify=false
</code>

Remplacez ''<utilisateur>'' par votre nom d'utilisateur et si besoin est, adaptez le chemin de lancement.

Enfin enregistrez et jouez. ^_^

| [[http://img96.imageshack.us/my.php?image=capture14sr.jpg|{{http://img96.imageshack.us/img96/6112/capture14sr.th.jpg}}]] | [[http://img96.imageshack.us/my.php?image=capture20ai.jpg|{{http://img96.imageshack.us/img96/2589/capture20ai.th.jpg}}]] | [[http://img95.imageshack.us/my.php?image=capture0hq.jpg|{{http://img95.imageshack.us/img95/9954/capture0hq.th.jpg}}]] |

== solution sans bugs : Ouvrir WoW sous un autre serveur X ==

C'est pour l'instant la seule solution trouvée pour palier aux problèmes dus aux freezes et autres latences élevées de l'interface.

Cette méthode vous apportera un gain de FPS((ou encore IPS en français : image par seconde)) assez considérable. Les personnages se chargent plus vite, les lieux aussi et il n'y a aucun problème pour revenir au serveur X où vous avez ouvert votre session.

== 1re étape : Le script de lancement du jeu ==

Ouvre un terminal utilisez la commande suivante :

Pour **Ubuntu** : <code>gedit ~/launch-wow.sh</code>
Pour **Kubuntu** : <code>kate ~/launch-wow.sh</code>
Pour **Xubuntu** : <code>mousepad ~/launch-wow.sh</code>
Pour les autres : <code>nano ~/launch-wow.sh</code>

<note important>Le script de lancement ne semble pas être très stable avec la version Wine 1.1.33, ni avec la version 1.1.34, le nouveau serveur X se lance, et parfois se ferme après quelques secondes sans lancer World of Warcraft. Vous pouvez répéter l'opération après quelques secondes d'intervalles, et normalement le lancement devrait fonctionner.</note>

Insérez le code suivant :
<code bash>
#!/bin/bash

export WINEPREFIX="$HOME/.wine/"

sudo true || ( exit 1 ) # Valider le mot de passe
sudo X :3 -ac -terminate &   # Lance sur un nouveau serveur X affichage 3
sleep 2           # Attend 2 secondes que le serveur soit prêt
DISPLAY=:3 wine "C:\Program Files\World of Warcraft\WoW.exe" -opengl # Lance WoW avec Wine et le paramètre OpenGL
</code>

<note>L'utilisation de l'option "-terminate" lors du lancement du nouveau serveur X peux faire planter le script sous Ubuntu 10.04, il suffit pour cela de l'enlever.
<code bash>sudo X :3 -ac & # Lance sur un nouveau serveur X affichage 3</code>

Testé avec la version d'évaluation sous ubuntu 11.10:
remplacer:  <code bash> DISPLAY=:3 wine "C:\Program Files\World of Warcraft\WoW.exe" -opengl</code>
par: <code bash> DISPLAY=:3 wine "C:\Program Files\World of Warcraft\Launcher.exe" -opengl</code>



<note>ce script ne permettait pas a mon serveur x de se fermer après la fermeture du jeu, j'ai donc dû adapter et pour moi cela a donné ceci :

<code bash>#!/bin/bash
 
export WINEPREFIX="$HOME/.wine/"
 
sudo true || ( exit 1 ) # Valider le mot de passe
if !( ps -e | grep "tty8" ); then	#Vérifie l'existence du second serveur X
sudo X :3 -ac  -terminate & # Lance sur un nouveau serveur X affichage 3
fi
sleep 2           # Attend 2 secondes que le serveur soit prêt
DISPLAY=:3 xclock &	#Lance xclock dans le serveur X pour le faire patienter durant le démarrage du jeu (sinon il risque de se fermer prématurément).
DISPLAY=:3 wine "/home/(votre nom de pc)/.local/share/wineprefixes/wowtrial/drive_c/Program Files/World of Warcraft/WoW.exe" -opengl
pkill xclock	#Arrête xclock pour quitter le serveur Xsleep 5		#Attend 5 secondes l'arrêt du serveur X
sleep 5		#Attend 5 secondes l'arrêt du serveur X
if ( ps -e | grep "tty8" ); then	#Si il ne s'est pas arrêté
sudo kill $(ps -e | grep "tty8" | cut -f 1 -d ' ')	#Arrête le second serveur X
fi</code>
</note>


</note>

Notez que le chemin **WINEPREFIX** doit être adapté selon où vous avez installé WoW mais c'est généralement ce cas qui s'applique.

Si vous avez utilisé PlayOnLinux, ce chemin sera : <code>WINEPREFIX="$HOME/.PlayOnLinux/wineprefix/WorldOfWarcraft/"</code>

Enregistrez. Sous l'éditeur Nano, faites **Ctrl+O** suivi de **Ctrl+X**.

Et faites en sorte que votre script soit éxecutable, dans un terminal :
<code>sudo chmod +x ~/launch-wow.sh</code>

Il est possible que le son ne fonctionne pas sur le nouveau serveur X, mais fonctionne sur le serveur X de base (tty7).
Faites alors la manipulation suivante :
<code>sudo nano /etc/group</code>
Cherchez la ligne commençant par audio puis ajoutez y votre username.
<code>audio:x:29:pulse,username</code>
Veillez bien à remplacer username par votre nom d'utilisateur. Sauvegardez (Ctrl-O, entré) puis quittez nano (Ctrl-X).
Redémarrez ensuite votre ordinateur puis ce sera bon.

== Étape 2 : Lancement ==

<code>bash launch-wow.sh</code>

Un serveur X va se lancer avec un fond rempli de point blancs et noirs et un curseur en forme de croix. Il attend que le serveur soit prêt puis lance le jeu avec réussite ! 8-)

Pour revenir à votre interface de base, tapez **Ctrl+Alt+F7** et pour revenir au jeu **Ctrl+Alt+F9**. Notez que le son de WoW ne disparaît pas lorsque vous revenez sur l'interface de base.

Pour quitter le jeu, rien de plus simple. Quittez normalement et attendez un petit moment que le serveur X se quitte lui aussi.


----

Note : il y a une petite astuce pour lancer le fichier plus rapidement.

Pour **Ubuntu** : <code>sudo gedit /bin/wow && sudo chmod +x /bin/wow</code>
Pour **Kubuntu** : <code>sudo kate /bin/wow && sudo chmod +x /bin/wow</code>
Pour **Xubuntu** : <code>sudo mousepad /bin/wow && sudo chmod +x /bin/wow</code>
Pour les autres : <code>sudo nano /bin/wow && sudo chmod +x /bin/wow</code>

Et dans le fichier /bin/wow, insérez-y le texte suivant :
<code>#/bin/bash

file=~/launch-wow.sh # On définit l'emplacement du script précédemment créé, modifiez cette ligne si votre fichier est ailleurs.

# Comme un script accueillant, c'est toujours mieux...
echo "Bonjour $USER !" # Il remplacera automatiquement la variable $USER par le nom de l'utilisateur qui exécute le script
echo
echo "Lancement de World of Warcraft en cours, veuillez ne pas interrompre le chargement."

if [ -e "$file" ]; then  # L'option "-e" permet de tester l'existence d'un fichier, en l'occurrence $file.
  bash $file
else
  echo "Le fichier $file ne semble pas exister."
  echo
  ls ~/
  echo
  echo "Définissez le chemin vers ce fichier par rapport à la liste ci-dessus puis tapez entrée."
  read file
  if [ -e "$file" ]; then
    bash $file
  else
    echo "Le fichier dont l'emplacement a été redéfini à $file n'existe pas."
    echo "Vous tenterez un 'sudo gedit /bin/wow' et éditerez la troisième ligne pour définir l'emplacement exact."
  fi
fi

echo
echo "Interruption du script."
</code>

Par la suite, tapez :
<code>wow</code>
Dans un tty (CTRL + Alt + F1) pour lancer World of Warcraft.

===== Problèmes =====

Quoi de mieux que de commencer par des problèmes ?

Sachez qu'il y en a une flopée, mais elle tend à se réduire grâce aux efforts de l'équipe de développement de Wine. Nous exposons ici les plus récurrents, pour le reste le forum reste à votre disposition. N'oubliez pas la fonction **Recherche** est votre amie bien qu'il faille lui demander 2 fois de chercher avant qu'elle accepte de vous donner un résultat, non mais !

==== Connexion impossible au compte WoW====

Si vous n'arrivez pas à rentrer votre adresse mail, rajoutez cette ligne dans le fichier ~.wine/WTF/config.wtf

<code>SET accountName "votreadressemail@fai.fr"</code>

==== Out of memory ====
Symptôme: Wow plante en indiquant comme erreu r: Out of memory.

Pour résoudre ce symptôme, il suffit de passer à la dernière version de Wine.
<code bash>
## Ajout du PPA Wine
sudo add-apt-repository ppa:ubuntu-wine/ppa
sudo apt-get update
## Vérifier de bien prendre la dernière version
sudo apt-get install wine1.3
</code>
Source : [[http://www.winehq.org/download/deb|Tutoriel d'installation de wine sur le site officiel]]

Pour limiter la consommation mémoire du programme, désactiver les [[:wow#autres_parametres_a_consulter|pixels shaders]] est une bonne idée (limite les fuites mémoires).
==== Voir les fichiers "Installer.exe" ou "Installer Tome x.mpq" sur le DVD ====

Sur les DVD Windows/Mac Ubuntu ne monte que la partie Mac du DVD. Par conséquent vous ne voyez pas soit le fichier "Installer.exe" soit les fichiers "Installer Tome x.mpq".
Pour corriger ce problème il faut remonter le DVD à l'aide de la commande :
<code>mount -o remount,unhide /dev/sr0</code>

==== Problème d'identification ====

Depuis la mise à jour vers la version 3.3, pour certains il est impossible de s'identifier à son compte battle.net sans une erreur Microsoft Visual C++ Runtime Library.
Pour y remédier, c'est simple : Télécharger Microsoft Visual C++ 2005 SP1 [[http://www.microsoft.com/downloads/en/confirmation.aspx?familyId=200b2fd9-ae1a-4a14-984d-389c36f85647&displayLang=en|à cette adresse]] puis l'installer.
<code>wine ~/adresse_du_fichier/vcredist_x86.exe</code>
Et voilà le tour est joué.


Solution Bis : dans certains cas on retrouve cette erreur :

<code>Microsoft Visual C++ Runtime library

  Runtime error!
  Program c:\program files\world of warcraft\wow.exe

  R6034
  An Application has made an attempt to load the C runtime library incorrectly.
  Please contact the applications support team for more information.</code>

Si cela est votre cas, veuillez essayer ceci :

  * Installer [[:winetricks]] ;
  * [[:winetricks#utilisation|Utilisez winetricks]] pour installer les bibliothèques d'exécution **vcrun2005sp1 vcrun2005**.



==== Problème de DLL ====

Si vous avez des problèmes lors des mises à jour ou lors du lancement du jeu, les DLL [[http://www.dll-files.com/dllindex/dll-files.shtml?msvcp60|msvcp60.dll]], [[http://www.dll-files.com/dllindex/dll-files.shtml?mfc42|mfc42.dll]], [[http://www.dll-files.com/dllindex/dll-files.shtml?riched20|riched20.dll]] et [[http://www.dll-files.com/dllindex/dll-files.shtml?riched32|riched32.dll]] doivent être placées dans le dossier ''~/.wine/drive_c/windows/system32''.

<note tip>Il semble que ce bug ait disparu dans les dernières versions de Wine et donc qu'il ne soit plus nécessaire de les télécharger en plus</note>


==== Problèmes de son ====

<note astuce>OSS = Open Sound System</note>
<note astuce>Avant toute autre intervention, pensez à rajouter votre utilisateur dans le groupe "audio" :

<code>sudo adduser <utilisateur> audio</code>
Cette opération nécessitera un redémarrage pour être complètement fonctionnelle.
</note>

Parfois lors du lancement du programme, un bug peut couper la sortie PCM et le son ne fonctionne plus.

Penser à vérifier avant et après que le PCM ne soit pas a 0.

{{wow_pcm.png}}

=== Le son du jeu est muet ou crépite ===

Ouvrir le programme //Configure Wine// se trouvant dans **Applications→Wine→Configure Wine**

ou taper dans un terminal : 

<code> winecfg </code>

Aller dans l'onglet audio, puis dans la //section du pilote// cocher **Pilote OSS** uniquement.


=== Le jeu reste muet ===

Pour y remédier, [[tutoriel:comment_installer_un_paquet|installez le paquet]] **[[apt://alsa-oss|alsa-oss]]**.

Puis rajoutez aoss devant votre commande de lancement de jeu par exemple :
<code>aoss wine /home/<utilisateur>/.wine/drive_c/Program\ Files/World\ of\ Warcraft/WoW.exe</code>

<note important>
Si vous utilisez la méthode du serveur X secondaire, vous ne devriez **pas avoir de problème de son absence**, donc ne devriez **pas avoir à utiliser cette solution**, étant donné a fortiori que celle-ci empêcherait le serveur de se lancer.

Toutefois si vous n'avez pas de son sur le serveur X secondaire, vérifiez que votre utilisateur fait partie du groupe "audio".
</note>

=== Pour tout autre problème de son ===

[[:tutoriel:comment_editer_un_fichier|Rajouter dans le fichier]] de configuration ''WTF/Config.wtf'' du repertoire de WoW :
<code>
SET SoundOutputSystem "1"
SET SoundBufferSize "150"
</code>
<note>
**SET SoundOutputSystem "1"** dit à WoW de choisir OSS comme pilote de son car il est dit que celui-ci est meilleur que le pilote ALSA de Wine
  * "1" pour OSS
  * "2" pour ALSA
  * "-1" pour l'auto-détection
**SET SoundBufferSize "150** indique le buffer du son, si le son grésille un peu ou a une certaine latence avec le jeu comme des sursauts, essayez de varier de quelque peu le chiffre entre 50 et 250. Si ce chiffre est trop élevé vous subirez des problèmes de synchronisation de son</note>


==== Souris qui freeze ====

La souris peut quelquefois se figer quelques instants par exemple lorsque vous désirez changer la vue tout en vous déplaçant.
Ce problème se produit avec l'utilisation d'un pavé tactile et lorsqu'on tente de bouger la souris tout en appuyant sur les touches du clavier.

Ceci peut-être résolu en vous rendant dans le menu Système/Préférences/Souris.

Choisissez ensuite l'onglet "Pavé tactile" et décochez "Désactiver le pavé tactile lors de la frappe".

Le problème était bel et bien que par défaut, le pavé tactile est verrouillé lorsque les touches du clavier sont enfoncées. Impossible donc de faire les deux en même temps.

==== Entrée dans le monde (carte ATI) ====

Il se peut parfois que peu après le début du jeu (après avoir sélectionné son personnage), environ une ou deux secondes après, le jeu plante complètement. Cela vient de la configuration du serveur X. [[:tutoriel:comment_editer_un_fichier|Éditez le fichier]] ''/etc/X11/xorg.conf'', et ajoutez ces trois lignes dans la section "Device" :

<code>
Option "Capabilities" "0x00000800"
Option "UseFastTLS" "off"
Option "KernelModuleParm" "locked-userpages=0"
</code>

La section devrait ressembler à ceci après édition :

<code>
Section "Device"
  Identifier  "aticonfig-Device[0]"
  Driver      "fglrx"
  Option       "Capabilities" "0x00000800"
  Option       "UseFastTLS" "off"
  Option       "KernelModuleParm" "locked-userpages=0"
EndSection
</code>

Puis redémarrez l'interface graphique (après être entré en tty : CTRL + ALT + F1)

<code>
sudo service lightdm restart  #Si vous utilisez le gestionnaire de bureaux lightdm
sudo service gdm restart #Si vous utilisez, donc, gdm.
</code>

==== Personnages invisible dans le jeux (carte ATI) ====

Si vous avez une carte ATI et utilisez l'openGL, il se peut que certaines textures du jeu ne se chargent pas. Pour régler ce problème, vous devez ajouter ce paramètre dans votre fichier Config.wtf
<code>
SET M2UseShaders "0"
</code>


==== Freeze au changement de configuration en jeu ====

<note tip>Notez qu'en utilisant la méthode du serveur X secondaire, vous ne devriez-pas avoir ce problème</note>

Si le jeu se gèle au moment où vous validez un changement dans ces paramètres, vous devez tout d'abord [[:tutoriel:comment_editer_un_fichier|éditer le fichier]] ''WTF/Config.wtf'' en remplaçant la ligne **SET gxApi "opengl"** par  **SET gxApi "d3d"**.

Ensuite, vous allez devoir installer [[http://files.wowace.com/ApplyToForehead/no-ext/ApplyToForehead.zip|le mod Forehead]]. Téléchargez-le, puis décompressez-le et enfin copiez-le dans le dossier ''AddOns'' du jeu. 
Lancez le jeu et connectez-vous. En bas à gauche de l'écran de sélection de vos personnages, cliquez sur le bouton **AddOns** et activez ApplyToForehead en cochant la case. Cet addon étant considéré comme périmé, cochez la case **Lancer les addons périmés**. 

Relancez le jeu, connectez-vous de nouveau. Les réglages sont à présent accessibles sans problème. Cependant, la fluidité du jeu est amoindrie. De ce fait, il est vivement conseillé de remplacer de nouveau **SET gxApi "d3d"** par  **SET gxApi "opengl"** dans ''WTF/Config.wtf'' dès que vous avez sélectionné les paramètres qui vous conviennent.


==== Modification du registre pour OpenGL ====

Lorsque le jeu n'est **pas** lancé, exécutez la procédure suivante :

  * Entrez la commande **regedit** dans une console, une fenêtre hideuse apparaît avec une liste de dossiers qui commencent tous par HKEY.
  * Allez dans HKEY_CURRENT_USER -> Software -> Wine.
  * Cliquez-droit sur le dossier Wine -> Nouvelle -> Clé
  * Nommez-le dossier (la clé) **OpenGL**
  * Cliquez-droit sur le dossier OpenGL -> Nouvelle -> Valeur Chaîne
  * Nommez cette chaîne **DisabledExtensions** puis double-cliquez dessus
  * Remplissez le champs "Données de la valeur" avec **GL_ARB_vertex_buffer_object** (Ajoutez **;GL_ARB_vertex_program** __si vous avez des problèmes de graphisme__)

Normalement, les performances devraient être nettement améliorées.
<note>
Cette astuce améliore également les performances des autres jeux Wine utilisant OpenGL : il faudrait la placer sur une page plus générale… FIXME ([[:utilisateurs:thedamocles|Damocles]])
</note>

<note>
L'ajout de cette entrée permet aussi de régler le problème de textures dû au crash de la mini-map pour les utilisateurs de cartes ATI.
</note>

==== Qualité/Bug graphique ===

  *  Si vous subissez une baisse de performance, une baisse de qualité ou encore une impossibilité de jouer, ajouter ces lignes au fichier ''Config.wtf'' :

 <code>
SET ffxDeath "0"
SET ffxGlow "0"
</code>

<note>Notez que **SET ffxGlow "0"** peut activer l'antialiasing pour certaines personnes</note>

Si malgré ceci, vous avez toujours des soucis, essayez cette combinaison :

<code>
SET M2UsePixelShaders "1"
SET M2UseShaders "0"
SET UIFaster "2"
</code>

  * Si, par exemple, après avoir touché aux options, l'écran de connexion disparaît ou autre problème du genre, vous pouvez réinitialiser vos options d'une manière  très simple : il suffit de supprimer le fichier Wolrd of Warcraft/WTF/Config.wtf . Attention cela réinitialisera __toutes__ vos options et vous devrez de nouveau accepter les CGU de Blizzard.

==== Bureau au-dessus de WoW ====

Il se peut que vous ayez des soucis avec votre gestionnaire de fenêtre qui se met au-dessus de WoW lorsque vous jouez. Il existe deux solutions avec gnome-panel qui sont :
  * Soit utiliser l'option du masquage automatique \\
  * Soit de cacher les bouttons \\
Pour les deux, vous devrez faire **clic droit -> propriétés** sur votre bureau
\\
Ou encore, vous pouvez jouer à WoW en mode fenêtré :
  * En changeant la configuration vidéo en jeu (cocher la case Mode fenêtré dans les options vidéos) \\
  * En ajoutant -windowed à votre commande de lancement de WoW \\
  * En ajoutant cette ligne à votre fichier de configuration <code>SET gxWindow "1"</code>


==== Freeze après un changement de Bureau ====

C'est bien pratique, lorsqu'on est sous WoW en plein écran, de pouvoir changer de bureau pour aller consulter un truc sur le net ou faire autre chose pendant les long trajets en //fly// !

Cependant, dans certains cas, il y a une interaction entre Wine et Compiz qui freeze le jeu lorsqu'on revient à celui-ci après avoir changé de bureau.

Dans ce cas, la solution consiste à désactiver Compiz avant de lancer le jeu, et le réactiver ensuite.

Vous pouvez bien sûr faire cela à l'aide de l'utilitaire graphique// Système > > Apparence//

Cependant pour vous éviter plein de clics, voici un petit script qui fera tout ça automatiquement :

<code>#!/bin/bash
 
metacity --replace ccp & padsp wine "{Chemin de votre WoW}\Wow.exe" -opengl
compiz --replace</code>

Pensez bien sûr dans le script à remplacer {Chemin de votre WoW} par l'endroit, vu de Wine, où vous avez mis WoW.

Par exemple, chez moi ça donne : "Z:\home\zakhar\Divers\Program Files\World of Warcraft\Wow.exe"

// Karmic - Zakhar - 7 février 2010 //

==== Crash au lancement de WoW en OpenGL ====

Si WoW crash au lancement sous OpenGL, mais fonctionne sous d3d (Direct3D), essayez de désactiver un effet graphique ''glow'' en ajoutant cette ligne à votre fichier de configuration : <code>SET ffxGlow "0"</code>

<note>Notez que **SET ffxGlow "0"** peut activer l'antialiasing pour certaines personnes</note>

==== Icônes corrompues ====

Si vous constatez des icônes corrompues, vous devriez régler le paramètre **SET UIFaster** dans wtf/Config.wtf :

<code>SET UIFaster "x"</code>

Où ''x'' équivaut à :

<code>
 0 – Arrête tout accélération graphique
 1 – Pour utilisation interne seulement - **NE PAS UTILISER!**
 2 – Active seulement une partie de l'accélération graphique
 3 – Active totalement l'accélération graphique
</code>

Exemple : <code>Set UIFaster "2"</code>

Cette valeur corrige normalement le problème.

==== Bug toutes les 3-5 sec ====

Si vous constatez que votre son et votre image sont saccadés (FIXME studder: terme médical pour bégaiement ) toutes les 3 à 5 secondes, vous devrez [[:tutoriel:comment_editer_un_fichier|éditer]] /etc/X11/xorg.conf et ajouter :

<code>Option "UseFastTLS" "2"</code>

Dans la section ''Device'' de votre carte vidéo. C'est dû à un problème avec les pilotes OSS et les cartes ATI.

==== Perte de la configuration lors de la fermeture du jeu ====

Il est possible que vous perdiez votre configuration de WoW si vous quittez celui-ci avec le bouton **Quitter** du menu en jeu (/quit  a aussi le même effet). Le forum d'assistance recommande de se déconnecter d'abord puis lorsque vous êtes à l'écran de sélection des personnages, faites **Retour** et enfin lorsque vous êtes à l'écran de connexion **Quitter**. Aussi, soyez sûrs que vous avez les droits d'écriture sur le fichier "config.wtf".

Certaines personnes rapportent également que la modification des droits d'utilisation du fichier "config.wtf" permettrait de pallier le problème. Pour ce faire, rendez-vous dans le répertoire sous lequel le jeu est installé, puis effectuez un clic droit sur le fichier "config.wtf", la fenêtre des propriétés s'affiche. Allez sous l'onglet "permissions" et donnez la permission au groupe "autres" de créer et supprimer des fichiers et fermez la fenêtre. Cette modification devrait vous permettre de modifier les paramètres de jeu une seule fois.

==== Erreur Direct3D en mode OpenGL ====

Si vous avez un bug lors de la connexion suivie d'une mise à jour, quittez le jeu et lancez-le depuis un terminal et confirmez que vous avez bien cette erreur :
<code>
"err:d3d:InitAdapters Failed to initialize gl caps for default adapter
err:wine_d3d:WineDirect3DCreate Direct3D9 is not available without opengl"
</code>

Éditez votre Config.wtf, enlevez la ligne **SET gxApi "OpenGL"**. Lancez le jeu, connectez-vous jusqu'à l'écran de sélection de personnages.  Ensuite quittez le jeu, remettez la ligne dans votre fichier de configuration et le problème devrait être résolu. Cette erreur est apparemment causée par le "Blizzard's Hardware Survey code" qui ne s'entend pas bien avec Wine. Étant donné que Wine n'est pas supporté par Blizzard, les rapports d'erreur envoyés sont, pour eux sans erreur.

==== Activer les 5 boutons de votre souris ====

Si vous avez une souris à 5 boutons, vous pouvez activer les boutons du côté et arrière en faisant cette manipulation :

<code>
sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.backup.mouse
sudo gedit /etc/X11/xorg.conf
</code>

Changez :

<code>
Section "InputDevice"
    ...
    Driver "mouse"
    ...
    Option "Emulate3Buttons" ...
    Option "ZAxisMapping"    ...
    ...
EndSection
</code>

En :

<code>
Section "InputDevice"
    ...
    Driver "mouse"
    ...
    Option "Emulate3Buttons" "false"
    Option "Buttons"         "7"
    Option "ButtonMapping"   "1 2 3 6 7"
    Option "ZAxisMapping"    "4 5"
    ...
EndSection
</code>

**Optionnel** : redémarrez Gnome Desktop Manager pour que les changements prennent effet :

  * Fermez tous les programmes puis faites **Ctrl+Alt+Retour** (**Ctrl+Alt+Backspace**)
  * Ou fermez les programmes et exécutez : <code>sudo /etc/init.d/gdm restart</code>
==== Autres paramètres à consulter ====

Vous pouvez également modifier les paramètres suivants de WTF/Config.wtf pour améliorer significativement les performances et corriger certains problèmes au niveau des textures ou des polygones :

  ATTENTION Avant de faire quoi que ce soit, entrez les paramètres suivants dans votre fichier Config.wtf, sinon risque de plantage après la vidéo :
  SET movie "0"
  SET readTOS "1"
  SET readEULA "1"
  SET readTerminationWithoutNotice "1"

 ===  Moteur graphique ===

  * **SET gxApi "d3d9"** : API utilisée : d3d9 pour DirectX et opengl pour OpenGL. Sous Linux mieux vaux utiliser openGL !
  * **SET coresDetected "2"** : nombre de Coeur(s)/Processeur(s) détectés.
  * **SET processAffinityMask "3"** : paramètres sur les Coeur(s)/Processeur(s) que doit utiliser WoW (Attention de bien respecter [[http://www.wowwiki.com/CVar_processAffinityMask|ce tableau]]).
  * **SET hwDetect "0"** : active la détection automatique du matériel. Votre "config.wtf" sera supprimé et remplacé par un nouveau ! (0 = désactivé, 1 = activé).
  * **SET checkAddonVersion "0"** : vérification de la version des addons (0 = désactivé, 1 = activé).

 ===  Résolution ===

  * **SET gxVSync "0"** : activer la synchonisation verticale si problème graphique (0 = désactivé, 1 = activé).
  * **SET gxTripleBuffer "1"** : ne peut être utilisé sans SET gxVSync "1"; activer le tampon triple en cas de gros lags seulement.
  * **SET gxCursor "0"** : curseur matériel (0 = non, 1 = oui).
  * **SET gxFixLag "0"** : réduit la latence de l'interface mais baisse les performances (0 = désactivé, 1 = activé).
  * **SET gxWindow "1"** : active le mode fenêtré (0 = désactivé, 1 = activé).
  * **SET gxMaximize "1"** : ne peut être utilisé sans SET gxWindow "1". maximise la fenêtre en enlevant les cadres et la barre de titre (0 = désactivé, 1 = activé).
  * **SET windowResizeLock "1"** : ne peut être utilisé sans SET gxWindow "1". Évite les redimentionnements hazardeux (résolution 4/3 en 16/9ème par exemple). Ne sert à rien si SET gxMaximize "1".
  * **SET gxResolution "1680x1050"** : résolution en jeu.
  * **SET gxRefresh "60"** : taux de rafraichissement images/écran.
  * **SET useUiScale "1"** : active la modification de la taille de l'interface (0 = désactivé, 1 = activé).
  * **SET uiScale "0.64"** : ne peut être utilisé sans SET useUiScale "1". Modifie la taille de l'interface (de 0.64 à 1).
  * **SET cameradistancemax "30"** : distance de la caméra de base ( de 0 à 30).
  * **SET cameradistancemaxfactor "3"** : multiplicateur de la distance de caméra (3 x 30 = 90 par exemple (de 0 à 3).
  * **SET gxColorBits "24"** : nombres de couleurs par bit (8 / 16 / 24 (et 32 sous Windows))
  * **SET gxDepthBits "24"** : profondeur de couleur (8 / 16 / 24 (et 32 sous Windows))

 ===  Effets ===

  * **SET lod "0"** : qualité du terrain (1 = élevée, 0 = normale).
  * **SET lodDist "100"** : ne peut être utilisé sans SET lod "1". Distance de changement qualité du terrain (de 50 à 250).
  * **SET skycloudlod "3"** : qualité du ciel visible en monture volante) ( de 0 (désactivé) à 3).
  * **SET showfootprints "1"** : montre les traces de pas (1 = activé, 0 = désactivé).
  * **SET showfootprintparticles "1"** : montre les particules dégagées lors d'une trace de pas (poussière, éclaboussures, etc.) (1 = activé, 0 = désactivé).
  * **SET doodadAnim "0"** : Active les animations de l'environnement, comme les moulins et les oiseaux (1 = activé, 0 = désactivé).
  * **SET detailDoodadAlpha "100"** : améliore les détails des animations de l'environnement, comme les moulins et les oiseaux (de 0 à 100).
  * **SET weapontrails "1"** : affiche une trainée derrière les armes (1 = activé, 0 = désactivé).
  * **SET showBreath "1"** : affiche les particules duent à la respiration (1 = activé, 0 = désactivé).
  * **SET mapShadows "0"** : active les ombres de terrain (1 = activé, 0 = désactivé).
  * **SET shadowLevel "0"** : qualité des ombres sur le terrain (Vitesse de fusion des textures de terrains) (1 = Normal, 0 = élevée).
  * **SET farclip "350.0"** : distance d'affichage générale (de 177 à 777 sous WoW/BC, de 177 à 1277 pour WOLK et plus).
  * **SET horizonfarclip "2112"** : distance d'affichage de l'horizon (de 777 à 2112).
  * **SET unitDrawDist "300"** : distance maximal du dessins des éléments (de 20 à 300).
  * **SET pixelShaders "1"** : améliore les performances si votre carte vidéo est compatible avec cette fonction (1 = activé, 0 = désactivé).
  * **SET specular "0"** : ne peut être utilisé sans SET pixelShaders "1". Active le Réhaussement spéculaire du terrain -> aspect brillant, reflets de certains objets (1 = activé, 0 = désactivé).
  * **SET anisotropic "1"** : active le filtre anisotropique qui améliore la qualité des texture. Il est toujours préférable d'activer cette option en jeu et laisser la carte graphique en "préférence d'application" (de 1 à 16, pour désactiver supprimer la ligne).
  * **SET trilinear "1"** : active le mode trilinéaire -> meilleure qualité (1 = activé, 0 = désactivé).
  * **SET fullAlpha "0"** : active la transparence matérielle. A laisser désactivé sinon risque de grosse chute de performances lors de rencontre avec un objet invisible (1 = activé, 0 = désactivé).
  * **SET MaxLights "1"** : nombre de sources lumineuses (de 1 à 4).
  * **SET frillDensity "1"** : taux de détails d'environnement (herbe, rochers, etc) (de 1 = désactivé à 128).
  * **SET textureFilteringMode "0"** : qualité des textures vues de coté (de 0 à 5).
  * **SET componentTextureLevel "9"** : qualité des textures des personnages (de 0 à 9).
  * **SET characterAmbient "0.0"** : active le reflet des lumières ambiantes sur les personnages.
  * **SET weatherDensity "3"** : activité météo (de 0 à 3).
  * **SET baseMip "1"** : qualité des textures en général (1 = basse qualité, 0 = haute qualité).
  * **SET groundEffectDist "140"** : distance d'affichage des objets au sol (de 70  à 200).
  * **SET groundEffectDensity "64"** : nombre d'objets affichés au sol (de 0 à 256).
  * **SET environmentDetail "1.5"** : taux d'objets affichés en général (de 0.5 à 1.5).
  * **SET extShadowQuality "5"** : qualité des ombres en général (de 0 à 5).
  * **SET particleDensity "1"** : nombre de particules utilisées pour les sorts et les feux (de 0 à 1).
  * **SET ffxGlow "0"** : effet graphique adoucissant les contours et lumières (0 = Désactivé, 1 = activé).
  * **SET projectedTextures "1"** : projection des textures sur l'environement (0 = désactivé, 1 = activé) (ATTENTION : grosse baisse de performances).



Si les réglages vidéo sont corrompus ou ne sont pas correctement configurés, vous pouvez rétablir les réglages d'origine à tout moment en effaçant le fichier "WTF/Config.wtf". Un nouveau fichier "WTF/Config.wtf" sera créé la prochaine fois que vous lancerez le jeu. Les réglages que vous modifiez dans une session ne sont pas toujours pris en compte tant que vous ne quittez pas le jeu.

<note tip>
Pour visualiser les FPS et faire des réglages, appuyez sur ''CTRL+R'' ou passez votre souris sur le compteur de performances. Pour améliorer les performances, on peut également essayer de réduire la résolution du jeu et/ou à passer en mode fenêtré…
</note>

==== Lancement impossible suite à une mise à jour ou à un plantage ====

Depuis la version 3.2, les mises à jour automatiques ont tendance à rendre le démarrage de wow.exe impossible.
En effet, la mise à jour modifie les droits sur les fichiers de $WOW_PATH.
Pour remédier au problème, vous devez exécutez ces commandes :

<code>
chmod 755 "$WOW_PATH"
chmod g-s+x "$WOW_PATH"
</code>

A noter que vous pouvez mettre ces deux lignes après la définition du $WOW_PATH si vous utilisez le script launch.sh pour démarrer WoW dans un autre serveur X.

Il peut arriver aussi que l'exécutable WoW.exe soit toujours en train de tourner suite à un plantage intempestif.
Il peut donc être utile de rajouter la commande :
<code>
killall WoW.exe
</code>
dans le script launch.sh qui lance le jeu.

==== Freeze & Très faible FPS (IPS) ====

Il est possible parfois que votre jeu freeze et que vos FPS chute de manière drastique (J'avais personnellement 2 IPS).

Si vous avez peu de mémoire vive (<= 4Go), il est probable que le souci soit à ce niveau.Le problème vient du fait que Ubuntu est par défaut configuré pour mettre rapidement du cache dans le swap, qui est beaucoup plus lent que la RAM et donc fait "ramer" votre ordinateur.

Pour résoudre ce souci, il faut modifier le [[https://help.ubuntu.com/community/SwapFaq/#What_is_swappiness_and_how_do_I_change_it.3F | swappiness]], c'est lui qui indiquera dans quelles proportions le noyau transférera les processus de la RAM au swap.

  - Le swappiness peut avoir une valeur entre 0 et 100.
  - Si le swappiness = 0, le noyau évitera le plus possible de transférer les processus de la mémoire vive à la mémoire swap.
  - Si le swappiness=100, le noyau transférera de manière agressive les processus de la mémoire vive à la mémoire swap.

Le swappiness par défaut sur Ubuntu (Version actuelle : 13.04) est de 60. Si cette configuration est excellente pour un serveur, elle l'est beaucoup moins pour une utilisation de type bureau, où le swappiness recommandé est de 10.

Pour vérifier la valeur de votre swappiness :

<code>cat /proc/sys/vm/swappiness</code>

Pour modifier la valeur de votre swappiness de manière temporaire (perdue lors du reboot) :

<code>sudo sysctl vm.swappiness=10</code>

Pour rendre ce changement permanent, éditez le fichier de configuration avec votre éditeur favoris :

<code>gksudo gedit /etc/sysctl.conf</code>

Cherchez la ligne pour "vm.swappiness" et changez la value selon vos besoins. Si cette ligne n'existe pas, il vous suffit de la créer à la fin du fichier :

<code>vm.swappiness=10</code>

Sauvegardez et redémarrez.

===== Ports Firewall =====
Il est préférable d'ouvrir les ports de votre firewall (iptables) pour avoir "moins de difficultés" pour jouer ou pour télécharger un patch. Vous devez alors entrer ces commandes (cf. source pour la liste des ports) :
(Nom de la connexion : eth0 (à changer si vous êtes en wifi, entre autre))
<code>sudo iptables -A INPUT -i eth0 -p TCP --dport 3724 -j ACCEPT
sudo iptables -A INPUT -i eth0 -p UDP --dport 3724 -j ACCEPT
sudo iptables -A INPUT -i eth0 -p TCP --dport 6112 -j ACCEPT
sudo iptables -A INPUT -i eth0 -p TCP --dport 6881:6999 -j ACCEPT</code>

===== AddOns =====

Comme sous les autres systèmes (Windows et OSX), les addons de World of Warcraft "s'installent" en placant le répertoire obtenu après décompression dans le répertoire :
<code>
~/.wine/drive_c/Program Files/World Of Warcraft/Interface/AddOns/
</code>
(en admettant que vous avez gardé les chemins par défaut)

===== Logiciels tiers =====

==== Teamspeak ====

Si vous souhaitez utiliser le très célèbre logiciel de discussion [[:Teamspeak]] avec World of Warcraft, une petite manipulation est nécessaire au préalable.

Installez d'abord, si ce n'est déjà fait, le paquet **alsa-oss** (pour plus d'information, [[wow#problèmes_de_son|voir plus haut]]).

Ensuite, allez dans //Système > Préférences > Menu principal//. Modifiez-y les Propriétés du lanceur de Teamspeak, dans la catégorie Internet. Dans le champ //"Commande"// ajoutez "**aoss**" au début du champ :

{{jeux:lanceur_teamspeak.png?300}}

Pareillement, ajoutez "**aoss**" au début de la commande du lanceur de World of Warcraft. Testez, tout devrait fonctionner.

<note important>Idem, si vous utilisez le serveur X secondaire, mettez juste **aoss** pour Teamspeak car il est impossible et inutile pour WoW **dans ce cas précis**</note>

Pour de plus amples détails sur le son entre Wine et Teamspeak, lisez cette autre page web : [[wine_teamspeak]]

==== WoW Cartographe ====

[[http://tixu.scribe.free.fr/|WoW Cartographe]] marche parfaitement bien sous Wine !

<note>
De gros lags rendent WoW Cartographe inutilisable (notamment lors du zoom / dézoom, fonction assez essentielle) FIXME 
</note>
===== Sources =====  

  * [[http://forums.gentoo.org/viewtopic-t-246098-postdays-0-postorder-asc-highlight-wow-start-0.html|Un post à propos de WoW sur les forums Gentoo (en)]] ;
  * [[http://gentoo-wiki.com/HOWTO_Install_and_update_World_Of_Warcraft_with_wine|Un tutoriel à propos de WoW sur le wiki Gentoo (en)]] **Introuvable**;
  * [[https://www.to-servers.games/category/world-of-warcraft|Serveur Privé World Of Warcraft (fr|en)]] : Annuaire francophone de référencement des serveurs privés World Of Warcraft.
  * [[http://www.pcinpact.com/articles/d/51/1.htm|Un tutoriel à propos de WoW sur PC Inpact (fr)]]  **obsolète**;
  * [[http://appdb.winehq.org/appview.php?iAppId=1922|La page à propos de WoW sur Wine AppDB (en)]] ;
  * [[https://www|La page à propos de WoW sur Wine AppDB (en)]] ;
  * [[http://wiki.archlinux.org/index.php/World_of_Warcraft|Un tutoriel à propos de WoW sur le wiki d'Archlinux (en)]] **obsolète**;
  * [[http://www.wowwiki.com/Linux/Wine|WoWWiki (en)]].
  * [[http://forums.wow-europe.com/thread.html?topicId=14591608&sid=2|Un tutoriel sur les forums officiels de WoW]]  **Introuvable**;
  * [[https://help.ubuntu.com/community/WorldofWarcraft|Wiki officiel Ubuntu sur WoW]]
  * [[https://help.ubuntu.com/community/WorldofWarcraft/Troubleshooting|Wiki officiel Ubuntu sur WoW n°2]]
  * [[http://eu.blizzard.com/support/article.xml?articleId=19866&categoryId=3440&parentCategoryId=2100&pageNumber=1|Ports officiels pour le firewall]]  **Introuvable**;
  * https://eu.battle.net/support/en/article/300479   ( VOIR Içi pour les PORTS )
  * [[https://help.ubuntu.com/community/SwapFaq/#What_is_swappiness_and_how_do_I_change_it.3F | Tutoriel anglais pour le swappiness]],

----

//Contributeurs : [[utilisateurs:Arfein]], [[utilisateurs:Asimov]], Aurelienm, [[utilisateurs:Bloppy]], [[utilisateurs:Bross]], [[:utilisateurs:thedamocles|Damocles]], [[utilisateurs:Ekinox]], [[utilisateurs:entar]], [[utilisateurs:Haazheel]], [[utilisateurs:nevro15]], [[utilisateurs:Tot78]], Uboonty, [[utilisateurs:honeyshell|honeyshell]],[[utilisateurs:nzt]], [[utilisateurs:fleroi91]], [[utilisateurs:jeanvaljean]], [[utilisateurs:casselinux]], PierreG.//

//Remerciements à Nick Law (pour le howto du site winehq).//