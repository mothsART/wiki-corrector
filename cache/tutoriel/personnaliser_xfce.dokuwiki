
{{tag>xubuntu trusty personnalisation xfce tutoriel}}

====== Personnaliser Xfce4 ======

Nous verrons ici comment changer l'apparence du bureau de base Xfce4 pour le personnaliser selon vos souhaits.

[[http://lynucs.deviantart.com/art/19-05-86090551|{{http://th03.deviantart.net/fs26/300W/f/2008/140/d/4/d431b37c2e52868ae6b3680100b07408.png?250}}]]

===== Gestionnaire de paramètres Xfce =====

C'est avec ce gestionnaire que nous allons pouvoir personnaliser notre environnement Xfce. Vous le trouverez dans le menu Xfce, en bas à droite (la petite icône à côté du cadenas). Il suffit donc de passer par le Menu **XFCE** :  //Menu Xfce -> Tous les paramètres//.\\

{{tutoriel:parametres_xfce_trusty.png|gestionnaire de paramètres - Xcfe 4.10}}


====Personnel ====

Ce qui concerne la personnalisation d'**XFCE**, se trouve dans le gestionnaire de paramètres dans le champ //Personnel//.

=== Thèmes et Thèmes d'icônes ===

Pour modifier son bureau **XFCE** avec les thèmes et thèmes d'icônes présents dès l'installation, cliquez sur //Apparence//.

Il vous suffit de choisir, à votre convenance, dans l'onglet //Styles// et dans l'onglet //Icônes// les modifications d'apparence que vous voulez effectuer.

<note tip> Si cela n'est pas encore sélectionné, cochez dans l'onglet //Polices// la case **Activer l'anti-crénelage** et **"Utiliser la sous-pixellisation : RVB"** pour affiner votre affichage. </note>

===Faire apparaître l'icône de la poubelle sur le bureau===

Clic droit sur le bureau (ou via Tous les paramètres), puis //Paramètres du Bureau// pour le configurer. Dans l'onglet //Icônes// vous pourrez choisir les icônes affichées et leur taille.

=== Changer son fond d'écran===

Pour changer son fond d'écran, c'est toujours aussi simple, cliquez sur //Bureau//, onglet //Fond d'écran//.

Vous trouverez deux champs : **Dossier** et **Couleur**. Dans la partie **Dossier** vous pourrez choisir entre les diverses images proposées par défaut pour changer le fond d'écran. Vous pouvez aussi choisir le dossier de votre choix à la place de celui par défaut. Il est également possible de changer le fond d'écran toutes les x minutes en cochant la case //Changer le fond d'écran//.

<note tip>Il existe d'autres applications qui changent le papier peint à chaque démarrage ou au bout d'un certain délai, comme [[:Wallch]] ou [[:Xl-wallpaper]]. Une page leur est [[:fond_d_ecran|consacrée]].</note>

=== Activer le Compositeur d'ombres et de transparence ===

Normalement activé par défaut, si cela n'est pas le cas, cliquez sur //Peaufinage des fenêtres//. Puis dans l'onglet //Compositeur// cochez la case //Activer le compositeur d'affichage//. Les options et réglages de transparence peuvent désormais être modifié.\\

On peut également régler la transparence des tableaux de bord dans //Propriétés// par un clic droit sur le panneau.\\

Si les modifications offertes par le compositeur ne vous suffisent pas, dirigez-vous sur cette [[http://www.webupd8.org/2013/06/xfce4-composite-editor-easily-change.html|page]], qui consiste à :
  * [[:ppa#ajout_d_un_ppa_a_vos_sources_logicielles|Ajoutez le PPA]] **ppa:rebuntu16/other-stuff** dans vos sources de logiciels,
  * [[:tutoriel:comment_modifier_sources_maj#recharger_la_liste_des_paquets|Rechargez la liste des paquets]],
  * [[:tutoriel:comment_installer_un_paquet|Installez le paquet]] **[[apt> xfce4-composite-editor]]**.

<note tip>Il semble que xfce-composite-editor est devenu obsolète ou n'existe plus dans ubuntu 16.04.1</note>

**Xfce4-Composite-Editor**  vous attendra dans le gestionnaire de paramètres de votre menu **XFCE**.

Bouger les curseurs pour affiner votre réglages, et cliquez sur le bouton ''restart WM'' pour obtenir le résultat.

====Matériel====
===Raccourcis clavier===
Pour modifier des raccourcis clavier, cliquez sur //Clavier//, onglet //Raccourcis d'applications//, cliquez ensuite sur //Ajouter//.

== Lier la touche SUPER (logo Microsoft Windows) pour lancer le menu ==
Sous [[:Precise]], vous devez aller dans **Paramètres** => **Clavier** => **Raccourcis des applications**. Cliquez ensuite sur **Ajouter**, tapez la commande 
**''xfce4-popup-menu''**, validez et tapez votre touche.\\
Sous [[:Trusty]] cherchez la ligne **''xfce4-popup-whiskermenu''**, double-cliquez sur le raccourci par défaut, choisissez votre raccourci personnalisé.\\
Sous [[:Xenial]], cherchez la ligne **''xfce4-popup-applicationsmenu''**, double-cliquez sur le raccourci par défaut, choisissez votre raccourci personnalisé.\\

== Ajouter des raccourcis clavier pour ouvrir des dossiers usuels ==
Vous ouvrez souvent un dossier, par exemple le dossier **Documents** et vous voulez y accéder rapidement par un raccourci clavier, par exemple la touche alt+D. Suivez la procédure indiquée plus haut et dans //Commande// mettez:
<code>thunar Documents</code> puis choisissez la touche que vous voulez lui assigner.

== Focus ou lancement d'application ==
Comme dans Unity, vous pouvez faire un raccourci clavier vers une application, qui détecte si l'application est déjà lancée pour lui donner le focus, dans le cas contraire il la lance... Pour plus de détail reportez-vous à cette documentation sur [[http://askubuntu.com/questions/507093/focus-application-keyboard-shortcut-in-lubuntu-lxde|Ask Ubuntu]] (en).
====Système ====

=== Se connecter sans mot de passe ===

Allez dans //Utilisateurs et groupes//, cliquez sur l'icône déverrouiller, tapez votre mot de passe administrateur.
Dans la champ //Mot de passe//, cliquez sur //Modifier//, puis cochez la case //Ne pas demander de mot de passe à la connexion//.
===Session et démarrage===
C'est ici que vous pourrez ajouter des applications qui se lanceront automatiquement au démarrage de votre session.

=== Activer les options d'accessibilité===
Dans //Accessibilité//, allez dans l'onglet //Technologies d'assistance// et cochez la case //Activer les technologies d'assistance//.
(FIXME pour ce qui suit sous Trusty)\\
Certaines [[:accessibilité|options d'accessibilité]] utilisées par Lightdm sont déjà activées par défaut.
Par exemple, le [[:clavier#claviers_virtuels|clavier virtuel]].
Pour activer la totalité des outils, par exemple, si vous souhaitez utiliser [[:mousetweaks]], faites ceci:
  * [[:tutoriel:comment_installer_un_paquet|Installez le paquet]] **[[apt>at-spi]]**.
  * Aller dans //Session et démarrage// puis l'onglet //Démarrage automatique//,
  * Cliquez sur le bouton **Ajouter**, renseignez le champs commande par **''/usr/lib/at-spi-core/at-spi-registryd''** et le libellé de votre choix dans << nom >> puis validez.
  * Fermez la session **XFCE**, puis relancez-la.

<note tip>S'il y a plusieurs utilisateurs différents sur le système, il faut faire la manipulation pour chacun d'eux.</note>

FIXME pour Precise

=====Les tableaux de bord=====
==== Glisser/Déposer des applications sur les tableaux de bord ====

Pour ajouter une application à un tableau de bord il suffit de la prendre à la souris dans le menu pour la relâcher sur le tableau de bord de votre choix.

==== Faire apparaître les menus applications dans le tableau de bord (top menu)  ====
{{:tutoriel:top_menu.png?600|}}
=== Version antérieure à (X)Ubuntu 18.04 ===
Comme avec Unity, vous pouvez déplacer les menus des fenêtres de vos applications dans le tableau de bord avec XFCE.
<code>
sudo apt-get install xfce4-topmenu-plugin libtopmenu-client-gtk2-0 libtopmenu-server-gtk2-0 libtopmenu-client-gtk3-0 libtopmenu-server-gtk3-0 topmenu-gtk2 topmenu-gtk3
</code>

Il va ensuite falloir créer un fichier dans ///etc/profile.d///, mais avec les droits root. Ajouter dans ce fichier le code suivant :
<code>
    #!/bin/sh

    export GTK_MODULES=$GTK_MODULES:topmenu-gtk-module
</code>

Déconnectez votre cession, puis reconnectez-vous. Vous ajouterez ensuite dans votre tableau de bord l’élément "Top Menu".

=== Depuis (X)Ubuntu 18.04 ===
Source : https://forum.ubuntu-fr.org/viewtopic.php?pid=22017411#p22017411 sur le forum.

Installation Vala-panel-appmenu
<code> sudo apt-get install xfce4-appmenu-plugin </code>

Désactiver l'affichage des menus classiques:
<code>
xfconf-query -c xsettings -p /Gtk/ShellShowsMenubar -n -t bool -s true
xfconf-query -c xsettings -p /Gtk/ShellShowsAppmenu -n -t bool -s true
</code>

Modifier le fichier ~/.profile
<code>mousepad .profile</code>

Copier/coller à la fin:
<code>
# for HUD.py
if [ -n "$GTK_MODULES" ]
then
  GTK_MODULES="$GTK_MODULES:unity-gtk-module"
else
  GTK_MODULES="unity-gtk-module"
fi

if [ -z "$UBUNTU_MENUPROXY" ]
then
  UBUNTU_MENUPROXY=1
fi 
</code>
Redémarrer la session et ajouter l'applet "appmenu plugin" au tableau de bord (clic droit>tableau de bord>préférence du tableau de bord>Éléments)

==== Activer l'écran de veille ====

Pour ajouter un raccourci à votre tableau de bord, vous permettant de verrouiller votre écran:
  * Faites un clic droit avec votre souris sur la barre de menu, et choisissez //Ajouter des nouveaux éléments// ;
  * Dans la fenêtre //Ajouter des nouveaux éléments//, choisissez **Bouton d'actions** ;
  * Puis choisissez l'action **Verrouiller l'écran**.

Il ne vous reste plus qu'à l'utiliser, voire à déplacer la nouvelle icône où vous désirez dans votre barre de menu.

<note important>Attention, un économiseur d'écran économise votre écran, mais pas vos ressources. Outre le fait qu'installer des applications gnome sur **XFCE** "alourdit" votre machine, les économiseurs d'écrans consomment beaucoup de ressources une fois lancés.</note>

===== Personnalisation avancée =====

<note tip>Pour étoffer vos possibilités de personnalisation, visitez [[http://www.xfce-look.org/ |Xfce-look.org]]. C'est une mine d'or ! \\ De plus tous les thèmes GTK présents sur [[http://www.gnome-look.org/ | gnome-look.org]] fonctionnent avec **XFCE** !</note>


==== Ajouter des thèmes ====

À partir d'[[:xfce#installation_de_la_version_410 |Xfce 4.10]], après avoir téléchargé le thème de votre choix, glissez-déposez l'archive contenant le thème dans la liste des thèmes affichés dans l'onglet "Styles" de l'outil "Apparence", disponible dans le Gestionnaire de paramètres. **XFCE** tentera alors d'installer le thème automatiquement et devrait le rajouter dans la liste.
Cette astuce est aussi valable pour les thèmes d'icônes.

Pour les versions antérieures d'Xfce il va falloir placer le fichier décompressé dans le répertoire **~/.themes** dans votre **dossier personnel**:
  * [[:archivage|Décompressez]] votre dossier,
  * Affichez les [[:dossiers_et_fichiers_caches|fichiers cachés]], par exemple en appuyant sur les touches  **ctrl+h**,
  * Recherchez le dossier **.themes** et copiez-y votre nouveau thème. Le dossier **.themes** est à créer s'il n'existe pas.

Pour sélectionner le thème, allez dans le menu des paramètres > Apparence > Style, et sélectionner le thème.

==== Personnaliser le contour de fenêtre ====

Les contours de fenêtres (la zone du haut de chaque fenêtre avec les boutons) font partie des thèmes, mais sont autonomes. On trouve donc parfois des thèmes réduits à ce simple point. On peut aussi utiliser un thème général, mais prendre la décoration des fenêtres d'un autre.

Même méthode que pour l'ajout de thème : utilisez des thèmes **XFCE** et les décompresser dans le dossier **.themes**.

Pour customiser uniquement un thème de fenêtre (une fois qu'on a choisi son thème général), allez dans le menu des paramètres >  Gestionnaire de fenêtres > Style.

==== Ajouter des thèmes d'icônes ====
C'est la même méthode que pour ajouter un thème, le seul changement se situant au niveau du dossier d'arrivée de votre thème d'icônes : **~/.icons**.

Pour sélectionner ce thème d'icônes, suivez la méthode citée [[#Ajouter des thèmes|plus haut]].

==== Dimensions et couleurs de la fenêtre terminal ====
Si vous souhaitez régler les dimensions de la fenêtre du terminal par exemple à 108 colonnes et 24 lignes, allez dans le terminal, puis **menu > préférence >  Apparence > Géométrie par défaut**, et saisissez les valeurs qui vous conviennent.

Vous pouvez aussi lancer le terminal avec la commande :
<code>xfce4-terminal --geometry=108x24</code>

Pour les couleurs, rendez vous dans **menu > préférences >  couleurs**.

Pour un fond transparent : **menu > préférences >  apparence > image d'arrière-plan**

===== Personnaliser le menu Xfce =====

Il est possible de modifier le menu **XFCE** dans //Menu Xfce -> Tous les paramètres -> Personnel -> Éditeur de menus//.
Ou clic droit sur le logo Xubuntu //Éditer les applications//.

Le logiciel [[:MenuLibre]] se lance, vous pouvez paramétrer le menu à votre guise. Référez-vous à la page de la documentation qui traite de [[:MenuLibre]].
Pour des informations plus détaillées à ce sujet, voir le post de [[http://forum.xubuntu-fr.org/viewtopic.php?pid=637684#p637684|Wapush]].

==== Barres de menu et application : Gérer la taille du panneau ====

En effet **XFCE** a cette particularité de fonctionner à la base avec des petits panneaux pour les barres de menu et d'application. Sous Xubuntu, ce n'est pas le cas, puisque ceux-ci font la taille maximale en longueur d'écran.

Pour les redéfinir, il vous faut faire un **clic droit sur le panneau** "tableau de bord" , choisir "**Préférences du tableau de bord**".

La fenêtre **Gestionnaire du panneau** s'ouvre. Ce qui suit est la description de la fenêtre. Le premier champ vous permet de choisir le panneau que vous voulez modifier, vous avez alors:
  * L'onglet //Affichage//:
    * //Mode//, permet de choisir le positionnement du panneau; (vous pouvez le verrouiller), la case à cocher **Afficher et masquer automatiquement le tableau de bord**, fera disparaître le tableau de bord jusqu'au passage de la souris sur les bords; 
    * //Dimensions// permet le choix de la taille que vous souhaitez donner au panneau;
  * L'onglet //Apparence//, qui vous permet de gérer la transparence et l'opacité du tableau.

<note help>S'il n'est pas verrouillé, il vous sera permis de choisir l'orientation du panneau et d'avoir des poignées à celui-ci.</note>

==== Ajouter l'option pour changer d'utilisateur sans déconnexion ====

Sous [[:Precise]] [[:tutoriel:comment_installer_un_paquet|installez le paquet]] **[[apt>xfswitch-plugin]]** et ajoutez à un tableau de bord le greffon « Changer d'utilisateur ».

Sous [[:Trusty]] le changement d'utilisateur se fait via le menu Whisker.
Clic droit sur le menu, propriétés:

{{:whiskerconf3.png?|}}

Dans l'onglet //comportement//, cocher la case //Changer des utilisateurs//.

{{:whiskerconf.png?|}}

On peut alors changer d'utilisateur via le menu :

{{:whiskerconf2.png?|}}

=====Paramétrer Thunar=====

Reportez-vous à la page [[:Thunar]].

===== Voir aussi =====

  * Xfce.org, Trucs & Astuces : [[http://wiki.xfce.org/fr/tips]]
  * Répertoire de thèmes, icônes et autres ressources : [[http://xfce-look.org/|xfce-look.org]]

----

//Contributeurs : [[utilisateurs:dada55]], [[utilisateurs:bamr]], [[utilisateurs:mavosaure]], [[utilisateurs:marnout]], [[utilisateurs:cannard]], [[:utilisateurs:l_africain|L'Africain]]//