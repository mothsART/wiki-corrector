{{tag>jeu fps}}
----


======  Urban Terror ====== 

{{:application:urbanterror.png|}}

[[https://sebsauvage.net/v/urbanterror.html|(Vidéos du jeu)]]

===== Le jeu =====

Urban Terror (aussi appelé UrT) est un FPS (//First Person Shooter//), basé sur le moteur libéré de Quake 3 ([[https://ioquake3.org/|ioquake3]]).

UrT est un FPS multijoueurs gratuit. Les cartes et armes tendent à être réalistes, mais les mouvements ne le sont pas (saut contre les murs, super-sauts, glissades...). Il pourra assez facilement être comparé au grand classique du genre, l'inévitable //Counter-Strike//, édité par Valve, même si Urban Terror met davantage l'accent sur le côté énergique et brutal. 

La plupart du temps deux équipes sont présentes, la rouge et la bleue, et s'affrontent pour remplir divers objectifs.

==== Licence et droits d'utilisation ====

À la base simple mod de Q3A, la version 4.0 voit l'arrivée d'une version //standalone// du jeu, qui ne nécessite donc pas le quake originel mais se base (comme d'autres fps tels que Tremulous) sur une version libre du moteur graphique de Quake, //ioquake3//, permettant à tout un chacun d'en profiter.

Le code du jeu lui même (//les .qvm contenu dans zpak000.pk3//) n'est pas ouvert. Pour plus de détails à ce sujet : [[http://www.urbanterror.net/faq.html|faq (en)]], section "//Licence Stuff//").

==== Les modes de jeu ====

Plusieurs modes de jeu sont disponibles, plus ou moins traditionnels :

    * **FFA (Free For All)** : chacun pour soi (pas d'équipe)
    * **Team Deathmatch ("Match à mort par équipes")**: deux équipes s'affrontent et doivent tuer le plus d'opposants, la partie s'arrêtant après un certain délai ou un certain nombre de morts.
    * **Team Survivor ("Survie par équipe")**: vous devez éliminer l'équipe adverse entièrement. Une fois mort, chaque joueur doit attendre la fin du round pour revenir dans la partie ("respawn", résurrection).
    * **Follow The Leader ("Suivez le chef")**: un membre de l'équipe doit toucher le drapeau situé dans le camp adverse, les autres devant le protéger et/ou tuer l'équipe adverse. La aussi le joueur doit attendre la fin du round (soit la capture d'un drapeau par un leader, soit l'élimination d'une équipe) pour ressusciter.
    * **Capture and Hold ("Capturer et Tenir")**: Un mode à la //Unreal Tournament//. Les équipes doivent capturer plusieurs drapeaux situés dans différentes zones afin de marquer des points.
    * **Capture The Flag ("Capture du drapeau")** : Un mode très classique dans les FPS. Deux camps, deux drapeaux ; le but est de ramener le drapeau adverse dans son propre camp, et d'empêcher l'équipe ennemie de faire de même.
    * **Bomb/Defuse ("Bombe et désamorçage")**: L'équipe rouge doit amorcer une bombe sur un des deux points disponibles.  La bleue doit l'en empêcher. Le round se termine par l'élimination d'une équipe, l'explosion d'une bombe, le désamorçage de celle-ci, ou encore après la fin du temps imparti (à ce moment la l'équipe bleue remporte la victoire). 

 La grande majorité des modes que vous trouverez sur les serveurs sont CTF et team DM.


==== Choix des armes ====

Contrairement à //Counter-Strike//, il n'y a pas besoin d'argent pour acheter des armes et munitions dans le jeu. Vous définissez à la place le set d'armes qui vous sera attribué à chaque résurrection. 

Vous aurez à choisir l'arme principale, l'arme secondaire et un pistolet, ainsi que de l'équipement supplémentaire (munitions, medikit pour soigner plus rapidement vos partenaires, gilet par balles, casque,  etc). 

Parmi les armes principales, on retrouvera une vaste gamme de fusils d'assaut (dont la célèbre kalashnikov), fusils à pompe, à lunettes "snipers" (certains fusils ayant un zoom en plus d'un viseur classique et pouvant donc être utilisés dans toutes les conditions).

Le jeu comprend également un environnement interactif très actif, on peut, lorsque l'on est blessé, appeler un médecin, indiquer la position de l'ennemi, etc...


===== Installation =====
==== Installation manuelle ====

=== Téléchargement du client ===

Téléchargez le fichier depuis le **[[https://www.urbanterror.info/downloads/|site officiel]]**, ou tapez dans un [[terminal]] :

<code>wget ftp://ftp.snt.utwente.nl/pub/games/urbanterror/full_install/linux_or_mac/UrbanTerror411.zip</code>


=== Décompression de l'archive téléchargée ===

Décompressez le fichier "**UrbanTerror411.zip**" dans le répertoire de votre choix. 

Soit, en tapant dans un [[terminal]] :

<code>unzip UrbanTerror411.zip
cd UrbanTerror
</code>

Vous pouvez par ailleurs supprimer les fichiers concernant windows et MacOSX (fichier .exe et dossier .app), soit dans un [[terminal]], néanmoins, il peut être utile de les garder dans le cas ou vous fassiez une LAN et que quelqu'un sous Windows n'ait pas le jeu. Vous pourriez alors lui passer votre archive. Le gain de place n'est d'ailleurs pas très grand.

<code>
rm ioUrbanTerror.exe
rm -rf ioUrbanTerror.app
</code>

**version beta 4.2.009** ( Semble régler certains problèmes de lancement, à télécharger depuis :  https://www.urbanterror.info/downloads/ )

Enregistrer puis décompressez le fichier UrbanTerror42.tar ( dans un dossiers de l'utilisateur, jeu-urbanterror par exemple )

Dans un [[:terminal|terminal]] saisissez les commandes suivantes :

<code>tar -xvf UrbanTerror42.tar
</code>

Ce n'est pas le jeu, mais le programme de téléchargement.

Donner les droits en exécution au fichier UrTUpdater.i386

<code>chmod +x UrTUpdater.i386
</code>

Lancer le programme de téléchargement
<code>./UrTUpdater.i386
</code>

Répondre OKay, Accept, Download, le téléchargement des fichiers commence... ( attendre la fin )
Après la première série, il y a encore 8 fichiers à télécharger.

On peut enfin faire " Quit "

Rendre exécutable le fichier : Quake3-UrT.i386
<code>sudo chmod +x Quake3-UrT.i386
</code>

Lancer le jeu avec :

<code>./Quake3-UrT.i386
</code>

Créer un raccourcis sur le bureau.

=== Définition des droits d'utilisation ===

 Il vous faut maintenant donner les droits en exécution aux fichiers  "**ioUrTded.i386**" et "**ioUrbanTerror.i386**" afin de pouvoir les lancer.

**ioUrbanTerror.i386** correspond au jeu de base et **ioUrTded.i386** à la version serveur dédié. 

Dans un [[terminal]] vous pouvez utiliser la commande :

<code>
cd UrbanTerror
chmod +x ioUrTded.i386 ioUrbanTerror.i386
</code>

Ou, pour les utilisateurs de l'[[architecture matérielle]] **64 bits**:

<code>
cd UrbanTerror
chmod +x ioUrTded.x86_64 ioUrbanTerror.x86_64
</code>

Vous devrez normalement être dans le bon répertoire (si vous avez suivi la procédure ci-dessus). Dans le cas contraire, placez-vous dans le bon répertoire grâce à la commande "cd". 

Le jeu est maintenant installé. 

=== Lancement du jeu ===

Rendez vous dans le dossier qui contient les exécutables UrbanTerror. 

Ouvrez un [[terminal]] et entrez la commande :

<code>
cd $home/UrbanTerror
./ioUrbanTerror.i386
</code>

Ou, pour les utilisateurs de l'[[architecture matérielle]] **64 bits**:

<code>
cd $home/UrbanTerror
./ioUrbanTerror.x86_64
</code>


===== Problèmes =====

==== Cartes ATI - Freeze en quittant le jeu ====

<note important>Problème identique sur carte NVIDIA en archi 64bits (karmic) - l'installation de libsdl1.2debian-pulseaudio, résout également le soucis.</note>
En quittant UrbanTerror, le jeu gèle tout l'environnement de bureau. Les solutions pour résoudre le soucis sont les suivantes en attendant une stabilisation des drivers ATI.

a) Passer en mode console pour tuer UrbanTerror.
  - Ctrl + Alt +F1 (pour fermer la session graphique et passer en mode console).
  - Connectez vous en tant qu'administrateur et [[tutoriel:console_commandes_de_base#kill_killall|tuez le processus]].
  - Redémarrez la session avec la commande startx.

b) Installer libsdl1.2debian-pulseaudio
Suite au sujet suivant évoqué sur le forum: https://forum.ubuntu-fr.org/viewtopic.php?id=348262
Sur Karmic il faudrait installer le paquet libsdl1.2debian-pulseaudio. (cette opération nécessite les droits d'administration)
<code>apt-get install libsdl1.2debian-pulseaudio</code>

==== Pas de menu dans le jeu (Ubuntu 10.04 64bits) ====

<note>Ceci ne concerne la version téléchargée sur le site du jeu, et non pas une installation par des paquets.</note>

Si vous avez dans votre console au lancement du jeu l'erreur suivante, il vous faut récupérer un autre exécutable qui corrige un problème dans l'appel à une bibliothèque C.
<code>
Loading vm file vm/ui.qvm...
total 0, hsize 1021, zero 1021, min 0, max 0
total 9314, hsize 1021, zero 1, min 0, max 28
VM file ui compiled to 3009608 bytes of code (0x7f9939bab000 - 0x7f9939e89c48)
compilation took 1.956153 seconds
ui loaded in 33931488 bytes on the hunk
^1Error: file ui/joinserver.menu, line 1: file ui/menddef.h not found
^1Error: file ui/setup.menu, line 1: file ui/menddef.h not found
</code>
  * Télécharger [[http://www0.org/urt/ioq3-1772-urt-x64-050210-2.tar.bz2|ce binaire exécutable]] compressé
  * Le décompresser et le placer dans le répertoire du jeu
  * Lancer le nouvel exécutable **ioq3-urt.x64** à la place de l'ancien //ioUrbanTerror.x86_64//

//[[https://www.urban-terror.fr/forums/viewtopic.php?f=8&t=6176|source]]//

FIXME ce problème semble plus provenir du jeux en version 64Bits sous processeur intel (se produit aussi sur 11.10)

<note>Ce problème peut dorénavant également survenir sur la version 12.04 en 32Bits : il est possible de corriger ce problème en utilisant   [[https://www.archlinux.org/packages/community/i686/urbanterror/|les fichiers exécutables de ce paquet]].</note>



 
===== Divers =====

==== Utilisation du logiciel XQF ====

[[xqf | XQF]] vous permettra de parcourir les serveurs Urban Terror sans entrer dans le jeu.

==== La librairie cURL ====

Si le message d'erreur "Cannot autodownload missing file(s), because the cURL library could not be loaded" apparaît alors que vous essayez de récupérer une nouvelle map, vous devez [[:tutoriel:comment_installer_un_paquet|installer le paquet]] [[apt://libcurl3|libcurl3]].
Ensuite **lancez le jeu** , puis ouvrez la console avec les touches **shift + echap** et entrez la commande:<code>/cl_curllib libcurl.so.4</code>
<note>ne marche pas chez moi (ubuntu 12.04 / version urban terror zipé)
Marche chez moi avec kubuntu 12.04/urbanterror zipé vérifié que vous taper bien la commande dans la console il y a 2 l a "curllib"</note>
==== Screenshots ====

[[http://blog.skateinmars.net/public/urt/shot0000.jpg|{{http://blog.skateinmars.net/public/urt/shot0000.TN__.jpg}}]]
[[http://blog.skateinmars.net/public/urt/shot0006.jpg|{{http://blog.skateinmars.net/public/urt/shot0006.TN__.jpg}}]]
[[http://blog.skateinmars.net/public/urt/shot0010.jpg|{{http://blog.skateinmars.net/public/urt/shot0010.TN__.jpg}}]]
==== Liens externes ====

  *  [[http://www.urbanterror.info/|Site officiel]]
  *  [[http://www.urbanterror.info/docs/home/urbanterror/manual/|Le manuel du jeu, assez complet]] : Vous retrouverez la liste des armes et des cartes disponibles,  en plus de conseils sur le déroulement du jeu.
  * [[http://www.urbanterror.info/docs/texts/116/|La FAQ du jeu]]
  * [[http://www.urban-terror.fr/|Le site de la communauté française]]
  * [[http://www.commentcamarche.net/faq/sujet-19742-introduction-a-urban-terror|Introduction à Urban Terror]] sur CommentÇaMarche avec quelques conseils de jeu.
  * [[http://www.commentcamarche.net/faq/sujet-20205-faire-une-video-d-un-match-urban-terror|Faire une vidéo d'un match Urban Terror]]

===== Astuces =====

Lancer Urban Terror en plein écran sur du multi écrans sans désactiver d'écrans.\\
Il suffit d'utiliser [[devilspie|Devil's Pie]], et de créér le fichier suivant dans : **~/.devilspie/urbanterror.ds**
<file>
(if (is (window_class) "ioUrbanTerror")
(begin
(undecorate)
(geometry "1600x1200+1024+0")
))
</file>
lorsque vous lancez Urban Terror en mode fenêtre,\\
**(undecorate)** enlève la décoration de fenêtre,\\
**(geometry "__1600x1200__+1024+0")** met la fenêtre en 1600/1200\\
**(geometry "1600x1200__+1024+0__")** Si vous avez 2 écrans, un en 1024/768 et l'autre en 1600/1200 et que ce dernier est à droite du 1024/768, cela place la fenêtre sur l'écran en 1600/1200 (x + 1024 (largeur du premier écran))\\
Testé avec succès sous Metacity



===== Monter un serveur Urban Terror =====

La procédure ci-dessous est une traduction simplifiée du tutoriel anglophone disponible ici: [[http://www.urbanterror.info/docs/texts/123/]]

On supposera ici que vous avez installé UrbanTerror dans un dossier nommé "urbanterror" dans votre home (soit dans le dossier /home/votre_login/urbanterror). Placez vous dans ce dossier:

<code>cd ~/urbanterror/</code>


==== Editez les paramètres de votre serveur ====
Les paramètres de votre serveur se trouvent dans le fichier server.cfg qui est dans le dossier "q3ut4". Pour modifier les paramètres de votre serveur éditez son contenu.
<code>gedit ~/urbanterror/q3ut4/server.cfg</code>

Les principaux éléments à observer sont les suivants:
<code>
//elements concernant l'administrateur du serveur
sets " Admin" "Vous" //Votre nom
sets " Email" "Vous@jabber.com"//votre email

//Informations sur le serveur
set sv_hostname "Mon_serveur_Ubuntu" //Nom de votre serveur
set g_motd "Description de votre serveur" //Description de votre serveur
set sv_joinmessage "Bonjour" //Message affiché lorsque les joueurs se connectent à votre serveur

//Elements concernant la capacité de votre serveur
set sv_maxclients "12" //défini le nombre de personnes qui vont pouvoir se connecter à votre serveur

//Cartes
set g_mapcycle "mapcycle.txt" //Fichier ou se trouvent les cartes que vous voulez jouer (ce fichier se trouve dans le dossier q3ut4, vous pouvez le modifier librement)
map ut4_elgin //Carte avec laquelle vous voulez commencer
</code>
Vous trouverez dans la section "Server CVARs" du lien suivant une description de tout les paramètres du fichier config.cfg: http://www.urbanterror.info/docs/texts/123/


==== Création d'un script de lancement du serveur ====
Placez vous dans le dossier urbanterror:
<code>cd ~/urbanterror/</code>

Créez un fichier nommé start.sh et insérez le contenu suivant
<code>
#!/bin/bash
while true
do
~/urbanterror/ioUrTded.i386 +set fs_game q3ut4 +set dedicated 2 +set net_port 27960 +set com_hunkmegs 128 +exec server.cfg
echo "server crashed on `date`" > last_crash.txt
done
</code>

Donnez les [[droits#chown_ou_chmod_lequel_dois-je_utiliser| droits d'exécution]] à ce fichier.

==== Lancez le serveur ==== 

Placez vous dans le dossier urbanterror:
<code>cd ~/urbanterror/</code>

Ouvrez le fichier start.sh (crée à l'étape précédente) avec un [[terminal]].
<code>sh ~/urbanterror/start.sh</code>

Si tout s'est bien passé, vos amis peuvent vous rejoindre, soit en recherchant directement votre IP, soit en recherchant le nom de votre serveur dans la liste des serveur Internet.

===== Remerciements =====

Skateinmars pour le tuto original qui se trouve à l'adresse suivante : 
  * http://blog.skateinmars.net/post/2007/04/14/47-un-jeu-libre-urban-terror
et surtout Merci de nous avoir trouvé ce jeu plutôt sympa ! ;) 
Comme dirait skateinmars : 
  * Amusez-vous bien et peut-être à bientôt pour quelques frags ! :)

----

//Contribueurs : U-topic, Barbatruk_tho, [[utilisateurs:guigouz|Guigouz]], [[utilisateurs:mcpeter|McPeter]], sebsauvage, commandant//